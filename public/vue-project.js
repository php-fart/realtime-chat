"use strict";function Ze(e,t){const n=Object.create(null),s=e.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const B={}.NODE_ENV!=="production"?Object.freeze({}):{},Tt={}.NODE_ENV!=="production"?Object.freeze([]):[],ee=()=>{},Fi=()=>!1,to=/^on[^a-z]/,Jt=e=>to.test(e),mn=e=>e.startsWith("onUpdate:"),J=Object.assign,ws=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},no=Object.prototype.hasOwnProperty,$=(e,t)=>no.call(e,t),P=Array.isArray,it=e=>Cn(e)==="[object Map]",Ui=e=>Cn(e)==="[object Set]",V=e=>typeof e=="function",X=e=>typeof e=="string",Os=e=>typeof e=="symbol",K=e=>e!==null&&typeof e=="object",Ts=e=>K(e)&&V(e.then)&&V(e.catch),Hi=Object.prototype.toString,Cn=e=>Hi.call(e),xs=e=>Cn(e).slice(8,-1),Bi=e=>Cn(e)==="[object Object]",Ss=e=>X(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,cn=Ze(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),so=Ze("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Pn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},io=/-(\w)/g,Ce=Pn(e=>e.replace(io,(t,n)=>n?n.toUpperCase():"")),ro=/\B([A-Z])/g,Me=Pn(e=>e.replace(ro,"-$1").toLowerCase()),dt=Pn(e=>e.charAt(0).toUpperCase()+e.slice(1)),tt=Pn(e=>e?`on${dt(e)}`:""),gn=(e,t)=>!Object.is(e,t),yt=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},bn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ts=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Gs;const En=()=>Gs||(Gs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ds(e){if(P(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=X(s)?uo(s):Ds(s);if(i)for(const r in i)t[r]=i[r]}return t}else{if(X(e))return e;if(K(e))return e}}const oo=/;(?![^(]*\))/g,co=/:([^]+)/,lo=/\/\*[^]*?\*\//g;function uo(e){const t={};return e.replace(lo,"").split(oo).forEach(n=>{if(n){const s=n.split(co);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ut(e){let t="";if(X(e))t=e;else if(P(e))for(let n=0;n<e.length;n++){const s=Ut(e[n]);s&&(t+=s+" ")}else if(K(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ao="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",fo="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",ho=Ze(ao),po=Ze(fo),_o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mo=Ze(_o);function Wi(e){return!!e||e===""}const ns=e=>X(e)?e:e==null?"":P(e)||K(e)&&(e.toString===Hi||!V(e.toString))?JSON.stringify(e,zi,2):String(e),zi=(e,t)=>t&&t.__v_isRef?zi(e,t.value):it(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:Ui(t)?{[`Set(${t.size})`]:[...t.values()]}:K(t)&&!P(t)&&!Bi(t)?String(t):t;function ss(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let me;class go{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=me,!t&&me&&(this.index=(me.scopes||(me.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=me;try{return me=this,t()}finally{me=n}}else({}).NODE_ENV!=="production"&&ss("cannot run an inactive effect scope.")}on(){me=this}off(){me=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function bo(e,t=me){t&&t.active&&t.effects.push(e)}function Eo(){return me}const Ht=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ki=e=>(e.w&Ye)>0,qi=e=>(e.n&Ye)>0,vo=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ye},yo=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const i=t[s];Ki(i)&&!qi(i)?i.delete(e):t[n++]=i,i.w&=~Ye,i.n&=~Ye}t.length=n}},is=new WeakMap;let It=0,Ye=1;const rs=30;let oe;const rt=Symbol({}.NODE_ENV!=="production"?"iterate":""),os=Symbol({}.NODE_ENV!=="production"?"Map key iterate":"");class Cs{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,bo(this,s)}run(){if(!this.active)return this.fn();let t=oe,n=Je;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=oe,oe=this,Je=!0,Ye=1<<++It,It<=rs?vo(this):ei(this),this.fn()}finally{It<=rs&&yo(this),Ye=1<<--It,oe=this.parent,Je=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){oe===this?this.deferStop=!0:this.active&&(ei(this),this.onStop&&this.onStop(),this.active=!1)}}function ei(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Je=!0;const Ji=[];function _t(){Ji.push(Je),Je=!1}function mt(){const e=Ji.pop();Je=e===void 0?!0:e}function te(e,t,n){if(Je&&oe){let s=is.get(e);s||is.set(e,s=new Map);let i=s.get(n);i||s.set(n,i=Ht());const r={}.NODE_ENV!=="production"?{effect:oe,target:e,type:t,key:n}:void 0;cs(i,r)}}function cs(e,t){let n=!1;It<=rs?qi(e)||(e.n|=Ye,n=!Ki(e)):n=!e.has(oe),n&&(e.add(oe),oe.deps.push(e),{}.NODE_ENV!=="production"&&oe.onTrack&&oe.onTrack(J({effect:oe},t)))}function Pe(e,t,n,s,i,r){const o=is.get(e);if(!o)return;let c=[];if(t==="clear")c=[...o.values()];else if(n==="length"&&P(e)){const f=Number(s);o.forEach((h,d)=>{(d==="length"||d>=f)&&c.push(h)})}else switch(n!==void 0&&c.push(o.get(n)),t){case"add":P(e)?Ss(n)&&c.push(o.get("length")):(c.push(o.get(rt)),it(e)&&c.push(o.get(os)));break;case"delete":P(e)||(c.push(o.get(rt)),it(e)&&c.push(o.get(os)));break;case"set":it(e)&&c.push(o.get(rt));break}const u={}.NODE_ENV!=="production"?{target:e,type:t,key:n,newValue:s,oldValue:i,oldTarget:r}:void 0;if(c.length===1)c[0]&&({}.NODE_ENV!=="production"?Ot(c[0],u):Ot(c[0]));else{const f=[];for(const h of c)h&&f.push(...h);({}).NODE_ENV!=="production"?Ot(Ht(f),u):Ot(Ht(f))}}function Ot(e,t){const n=P(e)?e:[...e];for(const s of n)s.computed&&ti(s,t);for(const s of n)s.computed||ti(s,t)}function ti(e,t){(e!==oe||e.allowRecurse)&&({}.NODE_ENV!=="production"&&e.onTrigger&&e.onTrigger(J({effect:e},t)),e.scheduler?e.scheduler():e.run())}const No=Ze("__proto__,__v_isRef,__isVue"),Yi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Os)),wo=Vn(),Oo=Vn(!1,!0),To=Vn(!0),xo=Vn(!0,!0),ni=So();function So(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=j(this);for(let r=0,o=this.length;r<o;r++)te(s,"get",r+"");const i=s[t](...n);return i===-1||i===!1?s[t](...n.map(j)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){_t();const s=j(this)[t].apply(this,n);return mt(),s}}),e}function Do(e){const t=j(this);return te(t,"has",e),t.hasOwnProperty(e)}function Vn(e=!1,t=!1){return function(s,i,r){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&r===(e?t?sr:nr:t?tr:er).get(s))return s;const o=P(s);if(!e){if(o&&$(ni,i))return Reflect.get(ni,i,r);if(i==="hasOwnProperty")return Do}const c=Reflect.get(s,i,r);return(Os(i)?Yi.has(i):No(i))||(e||te(s,"get",i),t)?c:G(c)?o&&Ss(i)?c:c.value:K(c)?e?ir(c):Vs(c):c}}const Co=Xi(),Po=Xi(!0);function Xi(e=!1){return function(n,s,i,r){let o=n[s];if(ht(o)&&G(o)&&!G(i))return!1;if(!e&&(!ls(i)&&!ht(i)&&(o=j(o),i=j(i)),!P(n)&&G(o)&&!G(i)))return o.value=i,!0;const c=P(n)&&Ss(s)?Number(s)<n.length:$(n,s),u=Reflect.set(n,s,i,r);return n===j(r)&&(c?gn(i,o)&&Pe(n,"set",s,i,o):Pe(n,"add",s,i)),u}}function Vo(e,t){const n=$(e,t),s=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&Pe(e,"delete",t,void 0,s),i}function Ro(e,t){const n=Reflect.has(e,t);return(!Os(t)||!Yi.has(t))&&te(e,"has",t),n}function ko(e){return te(e,"iterate",P(e)?"length":rt),Reflect.ownKeys(e)}const Zi={get:wo,set:Co,deleteProperty:Vo,has:Ro,ownKeys:ko},Qi={get:To,set(e,t){return{}.NODE_ENV!=="production"&&ss(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return{}.NODE_ENV!=="production"&&ss(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Io=J({},Zi,{get:Oo,set:Po}),jo=J({},Qi,{get:xo}),Ps=e=>e,Rn=e=>Reflect.getPrototypeOf(e);function Gt(e,t,n=!1,s=!1){e=e.__v_raw;const i=j(e),r=j(t);n||(t!==r&&te(i,"get",t),te(i,"get",r));const{has:o}=Rn(i),c=s?Ps:n?ks:Rs;if(o.call(i,t))return c(e.get(t));if(o.call(i,r))return c(e.get(r));e!==i&&e.get(t)}function en(e,t=!1){const n=this.__v_raw,s=j(n),i=j(e);return t||(e!==i&&te(s,"has",e),te(s,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function tn(e,t=!1){return e=e.__v_raw,!t&&te(j(e),"iterate",rt),Reflect.get(e,"size",e)}function si(e){e=j(e);const t=j(this);return Rn(t).has.call(t,e)||(t.add(e),Pe(t,"add",e,e)),this}function ii(e,t){t=j(t);const n=j(this),{has:s,get:i}=Rn(n);let r=s.call(n,e);r?{}.NODE_ENV!=="production"&&Gi(n,s,e):(e=j(e),r=s.call(n,e));const o=i.call(n,e);return n.set(e,t),r?gn(t,o)&&Pe(n,"set",e,t,o):Pe(n,"add",e,t),this}function ri(e){const t=j(this),{has:n,get:s}=Rn(t);let i=n.call(t,e);i?{}.NODE_ENV!=="production"&&Gi(t,n,e):(e=j(e),i=n.call(t,e));const r=s?s.call(t,e):void 0,o=t.delete(e);return i&&Pe(t,"delete",e,void 0,r),o}function oi(){const e=j(this),t=e.size!==0,n={}.NODE_ENV!=="production"?it(e)?new Map(e):new Set(e):void 0,s=e.clear();return t&&Pe(e,"clear",void 0,void 0,n),s}function nn(e,t){return function(s,i){const r=this,o=r.__v_raw,c=j(o),u=t?Ps:e?ks:Rs;return!e&&te(c,"iterate",rt),o.forEach((f,h)=>s.call(i,u(f),u(h),r))}}function sn(e,t,n){return function(...s){const i=this.__v_raw,r=j(i),o=it(r),c=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,f=i[e](...s),h=n?Ps:t?ks:Rs;return!t&&te(r,"iterate",u?os:rt),{next(){const{value:d,done:b}=f.next();return b?{value:d,done:b}:{value:c?[h(d[0]),h(d[1])]:h(d),done:b}},[Symbol.iterator](){return this}}}}function Be(e){return function(...t){if({}.NODE_ENV!=="production"){const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${dt(e)} operation ${n}failed: target is readonly.`,j(this))}return e==="delete"?!1:this}}function Mo(){const e={get(r){return Gt(this,r)},get size(){return tn(this)},has:en,add:si,set:ii,delete:ri,clear:oi,forEach:nn(!1,!1)},t={get(r){return Gt(this,r,!1,!0)},get size(){return tn(this)},has:en,add:si,set:ii,delete:ri,clear:oi,forEach:nn(!1,!0)},n={get(r){return Gt(this,r,!0)},get size(){return tn(this,!0)},has(r){return en.call(this,r,!0)},add:Be("add"),set:Be("set"),delete:Be("delete"),clear:Be("clear"),forEach:nn(!0,!1)},s={get(r){return Gt(this,r,!0,!0)},get size(){return tn(this,!0)},has(r){return en.call(this,r,!0)},add:Be("add"),set:Be("set"),delete:Be("delete"),clear:Be("clear"),forEach:nn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=sn(r,!1,!1),n[r]=sn(r,!0,!1),t[r]=sn(r,!1,!0),s[r]=sn(r,!0,!0)}),[e,n,t,s]}const[$o,Lo,Ao,Fo]=Mo();function kn(e,t){const n=t?e?Fo:Ao:e?Lo:$o;return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get($(n,i)&&i in s?n:s,i,r)}const Uo={get:kn(!1,!1)},Ho={get:kn(!1,!0)},Bo={get:kn(!0,!1)},Wo={get:kn(!0,!0)};function Gi(e,t,n){const s=j(n);if(s!==n&&t.call(e,s)){const i=xs(e);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const er=new WeakMap,tr=new WeakMap,nr=new WeakMap,sr=new WeakMap;function zo(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ko(e){return e.__v_skip||!Object.isExtensible(e)?0:zo(xs(e))}function Vs(e){return ht(e)?e:In(e,!1,Zi,Uo,er)}function qo(e){return In(e,!1,Io,Ho,tr)}function ir(e){return In(e,!0,Qi,Bo,nr)}function jt(e){return In(e,!0,jo,Wo,sr)}function In(e,t,n,s,i){if(!K(e))return{}.NODE_ENV!=="production"&&console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const o=Ko(e);if(o===0)return e;const c=new Proxy(e,o===2?s:n);return i.set(e,c),c}function ot(e){return ht(e)?ot(e.__v_raw):!!(e&&e.__v_isReactive)}function ht(e){return!!(e&&e.__v_isReadonly)}function ls(e){return!!(e&&e.__v_isShallow)}function us(e){return ot(e)||ht(e)}function j(e){const t=e&&e.__v_raw;return t?j(t):e}function rr(e){return bn(e,"__v_skip",!0),e}const Rs=e=>K(e)?Vs(e):e,ks=e=>K(e)?ir(e):e;function Jo(e){Je&&oe&&(e=j(e),{}.NODE_ENV!=="production"?cs(e.dep||(e.dep=Ht()),{target:e,type:"get",key:"value"}):cs(e.dep||(e.dep=Ht())))}function Yo(e,t){e=j(e);const n=e.dep;n&&({}.NODE_ENV!=="production"?Ot(n,{target:e,type:"set",key:"value",newValue:t}):Ot(n))}function G(e){return!!(e&&e.__v_isRef===!0)}function Xo(e){return G(e)?e.value:e}const Zo={get:(e,t,n)=>Xo(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return G(i)&&!G(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function or(e){return ot(e)?e:new Proxy(e,Zo)}class Qo{constructor(t,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Cs(t,()=>{this._dirty||(this._dirty=!0,Yo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=j(this);return Jo(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Go(e,t,n=!1){let s,i;const r=V(e);r?(s=e,i={}.NODE_ENV!=="production"?()=>{console.warn("Write operation failed: computed value is readonly")}:ee):(s=e.get,i=e.set);const o=new Qo(s,i,r||!i,n);return{}.NODE_ENV!=="production"&&t&&!n&&(o.effect.onTrack=t.onTrack,o.effect.onTrigger=t.onTrigger),o}const ct=[];function ln(e){ct.push(e)}function un(){ct.pop()}function y(e,...t){if({}.NODE_ENV==="production")return;_t();const n=ct.length?ct[ct.length-1].component:null,s=n&&n.appContext.config.warnHandler,i=ec();if(s)je(s,n,11,[e+t.join(""),n&&n.proxy,i.map(({vnode:r})=>`at <${Un(n,r.type)}>`).join(`
`),i]);else{const r=[`[Vue warn]: ${e}`,...t];i.length&&r.push(`
`,...tc(i)),console.warn(...r)}mt()}function ec(){let e=ct[ct.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function tc(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...nc(n))}),t}function nc({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,i=` at <${Un(e.component,e.type,s)}`,r=">"+n;return e.props?[i,...sc(e.props),r]:[i+r]}function sc(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...cr(s,e[s]))}),n.length>3&&t.push(" ..."),t}function cr(e,t,n){return X(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:G(t)?(t=cr(e,j(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):V(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=j(t),n?t:[`${e}=`,t])}const Is={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function je(e,t,n,s){let i;try{i=s?e(...s):e()}catch(r){jn(r,t,n)}return i}function ve(e,t,n,s){if(V(e)){const r=je(e,t,n,s);return r&&Ts(r)&&r.catch(o=>{jn(o,t,n)}),r}const i=[];for(let r=0;r<e.length;r++)i.push(ve(e[r],t,n,s));return i}function jn(e,t,n,s=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,c={}.NODE_ENV!=="production"?Is[n]:n;for(;r;){const f=r.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](e,o,c)===!1)return}r=r.parent}const u=t.appContext.config.errorHandler;if(u){je(u,null,10,[e,o,c]);return}}ic(e,n,i,s)}function ic(e,t,n,s=!0){if({}.NODE_ENV!=="production"){const i=Is[t];if(n&&ln(n),y(`Unhandled error${i?` during execution of ${i}`:""}`),n&&un(),s)throw e;console.error(e)}else console.error(e)}let Bt=!1,as=!1;const ne=[];let Se=0;const xt=[];let xe=null,We=0;const lr=Promise.resolve();let js=null;const rc=100;function oc(e){const t=js||lr;return e?t.then(this?e.bind(this):e):t}function cc(e){let t=Se+1,n=ne.length;for(;t<n;){const s=t+n>>>1;Wt(ne[s])<e?t=s+1:n=s}return t}function Mn(e){(!ne.length||!ne.includes(e,Bt&&e.allowRecurse?Se+1:Se))&&(e.id==null?ne.push(e):ne.splice(cc(e.id),0,e),ur())}function ur(){!Bt&&!as&&(as=!0,js=lr.then(dr))}function lc(e){const t=ne.indexOf(e);t>Se&&ne.splice(t,1)}function ar(e){P(e)?xt.push(...e):(!xe||!xe.includes(e,e.allowRecurse?We+1:We))&&xt.push(e),ur()}function ci(e,t=Bt?Se+1:0){for({}.NODE_ENV!=="production"&&(e=e||new Map);t<ne.length;t++){const n=ne[t];if(n&&n.pre){if({}.NODE_ENV!=="production"&&Ms(e,n))continue;ne.splice(t,1),t--,n()}}}function fr(e){if(xt.length){const t=[...new Set(xt)];if(xt.length=0,xe){xe.push(...t);return}for(xe=t,{}.NODE_ENV!=="production"&&(e=e||new Map),xe.sort((n,s)=>Wt(n)-Wt(s)),We=0;We<xe.length;We++)({}).NODE_ENV!=="production"&&Ms(e,xe[We])||xe[We]();xe=null,We=0}}const Wt=e=>e.id==null?1/0:e.id,uc=(e,t)=>{const n=Wt(e)-Wt(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function dr(e){as=!1,Bt=!0,{}.NODE_ENV!=="production"&&(e=e||new Map),ne.sort(uc);const t={}.NODE_ENV!=="production"?n=>Ms(e,n):ee;try{for(Se=0;Se<ne.length;Se++){const n=ne[Se];if(n&&n.active!==!1){if({}.NODE_ENV!=="production"&&t(n))continue;je(n,null,14)}}}finally{Se=0,ne.length=0,fr(e),Bt=!1,js=null,(ne.length||xt.length)&&dr(e)}}function Ms(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>rc){const s=t.ownerInstance,i=s&&zs(s.type);return y(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}let lt=!1;const Nt=new Set;({}).NODE_ENV!=="production"&&(En().__VUE_HMR_RUNTIME__={createRecord:Jn(hr),rerender:Jn(dc),reload:Jn(hc)});const pt=new Map;function ac(e){const t=e.type.__hmrId;let n=pt.get(t);n||(hr(t,e.type),n=pt.get(t)),n.instances.add(e)}function fc(e){pt.get(e.type.__hmrId).instances.delete(e)}function hr(e,t){return pt.has(e)?!1:(pt.set(e,{initialDef:Lt(t),instances:new Set}),!0)}function Lt(e){return Ur(e)?e.__vccOpts:e}function dc(e,t){const n=pt.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(s=>{t&&(s.render=t,Lt(s.type).render=t),s.renderCache=[],lt=!0,s.update(),lt=!1}))}function hc(e,t){const n=pt.get(e);if(!n)return;t=Lt(t),li(n.initialDef,t);const s=[...n.instances];for(const i of s){const r=Lt(i.type);Nt.has(r)||(r!==n.initialDef&&li(r,t),Nt.add(r)),i.appContext.propsCache.delete(i.type),i.appContext.emitsCache.delete(i.type),i.appContext.optionsCache.delete(i.type),i.ceReload?(Nt.add(r),i.ceReload(t.styles),Nt.delete(r)):i.parent?Mn(i.parent.update):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}ar(()=>{for(const i of s)Nt.delete(Lt(i.type))})}function li(e,t){J(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function Jn(e){return(t,n)=>{try{return e(t,n)}catch(s){console.error(s),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let De,Mt=[],fs=!1;function Yt(e,...t){De?De.emit(e,...t):fs||Mt.push({event:e,args:t})}function pr(e,t){var n,s;De=e,De?(De.enabled=!0,Mt.forEach(({event:i,args:r})=>De.emit(i,...r)),Mt=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{pr(r,t)}),setTimeout(()=>{De||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,fs=!0,Mt=[])},3e3)):(fs=!0,Mt=[])}function pc(e,t){Yt("app:init",e,t,{Fragment:ge,Text:Xt,Comment:fe,Static:hn})}function _c(e){Yt("app:unmount",e)}const mc=$s("component:added"),_r=$s("component:updated"),gc=$s("component:removed"),bc=e=>{De&&typeof De.cleanupBuffer=="function"&&!De.cleanupBuffer(e)&&gc(e)};function $s(e){return t=>{Yt(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const Ec=mr("perf:start"),vc=mr("perf:end");function mr(e){return(t,n,s)=>{Yt(e,t.appContext.app,t.uid,t,n,s)}}function yc(e,t,n){Yt("component:emit",e.appContext.app,e,t,n)}function Nc(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||B;if({}.NODE_ENV!=="production"){const{emitsOptions:h,propsOptions:[d]}=e;if(h)if(!(t in h))(!d||!(tt(t)in d))&&y(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${tt(t)}" prop.`);else{const b=h[t];V(b)&&(b(...n)||y(`Invalid event arguments: event validation failed for event "${t}".`))}}let i=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:b}=s[h]||B;b&&(i=n.map(O=>X(O)?O.trim():O)),d&&(i=n.map(ts))}if({}.NODE_ENV!=="production"&&yc(e,t,i),{}.NODE_ENV!=="production"){const h=t.toLowerCase();h!==t&&s[tt(h)]&&y(`Event "${h}" is emitted in component ${Un(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Me(t)}" instead of "${t}".`)}let c,u=s[c=tt(t)]||s[c=tt(Ce(t))];!u&&r&&(u=s[c=tt(Me(t))]),u&&ve(u,e,6,i);const f=s[c+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,ve(f,e,6,i)}}function gr(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},c=!1;if(!V(e)){const u=f=>{const h=gr(f,t,!0);h&&(c=!0,J(o,h))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!r&&!c?(K(e)&&s.set(e,null),null):(P(r)?r.forEach(u=>o[u]=null):J(o,r),K(e)&&s.set(e,o),o)}function $n(e,t){return!e||!Jt(t)?!1:(t=t.slice(2).replace(/Once$/,""),$(e,t[0].toLowerCase()+t.slice(1))||$(e,Me(t))||$(e,t))}let ae=null,br=null;function vn(e){const t=ae;return ae=e,br=e&&e.type.__scopeId||null,t}function wc(e,t=ae,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&yi(-1);const r=vn(t);let o;try{o=e(...i)}finally{vn(r),s._d&&yi(1)}return{}.NODE_ENV!=="production"&&_r(t),o};return s._n=!0,s._c=!0,s._d=!0,s}let ds=!1;function yn(){ds=!0}function Yn(e){const{type:t,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:c,attrs:u,emit:f,render:h,renderCache:d,data:b,setupState:O,ctx:x,inheritAttrs:D}=e;let I,M;const ce=vn(e);({}).NODE_ENV!=="production"&&(ds=!1);try{if(n.shapeFlag&4){const k=i||s;I=be(h.call(k,k,d,r,O,b,x)),M=u}else{const k=t;({}).NODE_ENV!=="production"&&u===r&&yn(),I=be(k.length>1?k(r,{}.NODE_ENV!=="production"?{get attrs(){return yn(),u},slots:c,emit:f}:{attrs:u,slots:c,emit:f}):k(r,null)),M=t.props?u:Tc(u)}}catch(k){At.length=0,jn(k,e,1),I=ye(fe)}let U=I,Ne;if({}.NODE_ENV!=="production"&&I.patchFlag>0&&I.patchFlag&2048&&([U,Ne]=Oc(I)),M&&D!==!1){const k=Object.keys(M),{shapeFlag:Qe}=U;if(k.length){if(Qe&7)o&&k.some(mn)&&(M=xc(M,o)),U=Xe(U,M);else if({}.NODE_ENV!=="production"&&!ds&&U.type!==fe){const Le=Object.keys(u),Ae=[],he=[];for(let Ve=0,Fe=Le.length;Ve<Fe;Ve++){const pe=Le[Ve];Jt(pe)?mn(pe)||Ae.push(pe[2].toLowerCase()+pe.slice(3)):he.push(pe)}he.length&&y(`Extraneous non-props attributes (${he.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),Ae.length&&y(`Extraneous non-emits event listeners (${Ae.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&({}.NODE_ENV!=="production"&&!ui(U)&&y("Runtime directive used on component with non-element root node. The directives will not function as intended."),U=Xe(U),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&({}.NODE_ENV!=="production"&&!ui(U)&&y("Component inside <Transition> renders non-element root node that cannot be animated."),U.transition=n.transition),{}.NODE_ENV!=="production"&&Ne?Ne(U):I=U,vn(ce),I}const Oc=e=>{const t=e.children,n=e.dynamicChildren,s=Er(t);if(!s)return[e,void 0];const i=t.indexOf(s),r=n?n.indexOf(s):-1,o=c=>{t[i]=c,n&&(r>-1?n[r]=c:c.patchFlag>0&&(e.dynamicChildren=[...n,c]))};return[be(s),o]};function Er(e){let t;for(let n=0;n<e.length;n++){const s=e[n];if(Hs(s)){if(s.type!==fe||s.children==="v-if"){if(t)return;t=s}}else return}return t}const Tc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Jt(n))&&((t||(t={}))[n]=e[n]);return t},xc=(e,t)=>{const n={};for(const s in e)(!mn(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n},ui=e=>e.shapeFlag&7||e.type===fe;function Sc(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:c,patchFlag:u}=t,f=r.emitsOptions;if({}.NODE_ENV!=="production"&&(i||c)&&lt||t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?ai(s,o,f):!!o;if(u&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const b=h[d];if(o[b]!==s[b]&&!$n(f,b))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:s===o?!1:s?o?ai(s,o,f):!0:!!o;return!1}function ai(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!$n(n,r))return!0}return!1}function Dc({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Cc=e=>e.__isSuspense;function Pc(e,t){t&&t.pendingBranch?P(e)?t.effects.push(...e):t.effects.push(e):ar(e)}const rn={};function Xn(e,t,n){return{}.NODE_ENV!=="production"&&!V(t)&&y("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),vr(e,t,n)}function vr(e,t,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=B){var c;({}).NODE_ENV!=="production"&&!t&&(n!==void 0&&y('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&y('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const u=k=>{y("Invalid watch source: ",k,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},f=Eo()===((c=Q)==null?void 0:c.scope)?Q:null;let h,d=!1,b=!1;if(G(e)?(h=()=>e.value,d=ls(e)):ot(e)?(h=()=>e,s=!0):P(e)?(b=!0,d=e.some(k=>ot(k)||ls(k)),h=()=>e.map(k=>{if(G(k))return k.value;if(ot(k))return st(k);if(V(k))return je(k,f,2);({}).NODE_ENV!=="production"&&u(k)})):V(e)?t?h=()=>je(e,f,2):h=()=>{if(!(f&&f.isUnmounted))return O&&O(),ve(e,f,3,[x])}:(h=ee,{}.NODE_ENV!=="production"&&u(e)),t&&s){const k=h;h=()=>st(k())}let O,x=k=>{O=U.onStop=()=>{je(k,f,4)}},D;if(qt)if(x=ee,t?n&&ve(t,f,3,[h(),b?[]:void 0,x]):h(),i==="sync"){const k=Ul();D=k.__watcherHandles||(k.__watcherHandles=[])}else return ee;let I=b?new Array(e.length).fill(rn):rn;const M=()=>{if(U.active)if(t){const k=U.run();(s||d||(b?k.some((Qe,Le)=>gn(Qe,I[Le])):gn(k,I)))&&(O&&O(),ve(t,f,3,[k,I===rn?void 0:b&&I[0]===rn?[]:I,x]),I=k)}else U.run()};M.allowRecurse=!!t;let ce;i==="sync"?ce=M:i==="post"?ce=()=>ue(M,f&&f.suspense):(M.pre=!0,f&&(M.id=f.uid),ce=()=>Mn(M));const U=new Cs(h,ce);({}).NODE_ENV!=="production"&&(U.onTrack=r,U.onTrigger=o),t?n?M():I=U.run():i==="post"?ue(U.run.bind(U),f&&f.suspense):U.run();const Ne=()=>{U.stop(),f&&f.scope&&ws(f.scope.effects,U)};return D&&D.push(Ne),Ne}function Vc(e,t,n){const s=this.proxy,i=X(e)?e.includes(".")?yr(s,e):()=>s[e]:e.bind(s,s);let r;V(t)?r=t:(r=t.handler,n=t);const o=Q;Ct(this);const c=vr(i,r.bind(s),n);return o?Ct(o):at(),c}function yr(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function st(e,t){if(!K(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),G(e))st(e.value,t);else if(P(e))for(let n=0;n<e.length;n++)st(e[n],t);else if(Ui(e)||it(e))e.forEach(n=>{st(n,t)});else if(Bi(e))for(const n in e)st(e[n],t);return e}function Nr(e){so(e)&&y("Do not use built-in directive ids as custom directive id: "+e)}function Rc(e,t){const n=ae;if(n===null)return{}.NODE_ENV!=="production"&&y("withDirectives can only be used inside render functions."),e;const s=Fn(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,c,u,f=B]=t[r];o&&(V(o)&&(o={mounted:o,updated:o}),o.deep&&st(c),i.push({dir:o,instance:s,value:c,oldValue:void 0,arg:u,modifiers:f}))}return e}function Ge(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const c=i[o];r&&(c.oldValue=r[o].value);let u=c.dir[s];u&&(_t(),ve(u,n,8,[e.el,c,e,t]),mt())}}const an=e=>!!e.type.__asyncLoader,Ls=e=>e.type.__isKeepAlive;function kc(e,t){wr(e,"a",t)}function Ic(e,t){wr(e,"da",t)}function wr(e,t,n=Q){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ln(t,s,n),n){let i=n.parent;for(;i&&i.parent;)Ls(i.parent.vnode)&&jc(s,t,n,i),i=i.parent}}function jc(e,t,n,s){const i=Ln(t,e,s,!0);Or(()=>{ws(s[t],i)},n)}function Ln(e,t,n=Q,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;_t(),Ct(n);const c=ve(t,n,e,o);return at(),mt(),c});return s?i.unshift(r):i.push(r),r}else if({}.NODE_ENV!=="production"){const i=tt(Is[e].replace(/ hook$/,""));y(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const $e=e=>(t,n=Q)=>(!qt||e==="sp")&&Ln(e,(...s)=>t(...s),n),Mc=$e("bm"),$c=$e("m"),Lc=$e("bu"),Ac=$e("u"),Fc=$e("bum"),Or=$e("um"),Uc=$e("sp"),Hc=$e("rtg"),Bc=$e("rtc");function Wc(e,t=Q){Ln("ec",e,t)}const hs="components";function zc(e,t){return qc(hs,e,!0,t)||e}const Kc=Symbol.for("v-ndc");function qc(e,t,n=!0,s=!1){const i=ae||Q;if(i){const r=i.type;if(e===hs){const c=zs(r,!1);if(c&&(c===t||c===Ce(t)||c===dt(Ce(t))))return r}const o=fi(i[e]||r[e],t)||fi(i.appContext[e],t);if(!o&&s)return r;if({}.NODE_ENV!=="production"&&n&&!o){const c=e===hs?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";y(`Failed to resolve ${e.slice(0,-1)}: ${t}${c}`)}return o}else({}).NODE_ENV!=="production"&&y(`resolve${dt(e.slice(0,-1))} can only be used in render() or setup().`)}function fi(e,t){return e&&(e[t]||e[Ce(t)]||e[dt(Ce(t))])}const ps=e=>e?Lr(e)?Fn(e)||e.proxy:ps(e.parent):null,ut=J(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>({}).NODE_ENV!=="production"?jt(e.props):e.props,$attrs:e=>({}).NODE_ENV!=="production"?jt(e.attrs):e.attrs,$slots:e=>({}).NODE_ENV!=="production"?jt(e.slots):e.slots,$refs:e=>({}).NODE_ENV!=="production"?jt(e.refs):e.refs,$parent:e=>ps(e.parent),$root:e=>ps(e.root),$emit:e=>e.emit,$options:e=>Fs(e),$forceUpdate:e=>e.f||(e.f=()=>Mn(e.update)),$nextTick:e=>e.n||(e.n=oc.bind(e.proxy)),$watch:e=>Vc.bind(e)}),As=e=>e==="_"||e==="$",Zn=(e,t)=>e!==B&&!e.__isScriptSetup&&$(e,t),Tr={get({_:e},t){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:c,appContext:u}=e;if({}.NODE_ENV!=="production"&&t==="__isVue")return!0;let f;if(t[0]!=="$"){const O=o[t];if(O!==void 0)switch(O){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(Zn(s,t))return o[t]=1,s[t];if(i!==B&&$(i,t))return o[t]=2,i[t];if((f=e.propsOptions[0])&&$(f,t))return o[t]=3,r[t];if(n!==B&&$(n,t))return o[t]=4,n[t];_s&&(o[t]=0)}}const h=ut[t];let d,b;if(h)return t==="$attrs"?(te(e,"get",t),{}.NODE_ENV!=="production"&&yn()):{}.NODE_ENV!=="production"&&t==="$slots"&&te(e,"get",t),h(e);if((d=c.__cssModules)&&(d=d[t]))return d;if(n!==B&&$(n,t))return o[t]=4,n[t];if(b=u.config.globalProperties,$(b,t))return b[t];({}).NODE_ENV!=="production"&&ae&&(!X(t)||t.indexOf("__v")!==0)&&(i!==B&&As(t[0])&&$(i,t)?y(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===ae&&y(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return Zn(i,t)?(i[t]=n,!0):{}.NODE_ENV!=="production"&&i.__isScriptSetup&&$(i,t)?(y(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):s!==B&&$(s,t)?(s[t]=n,!0):$(e.props,t)?({}.NODE_ENV!=="production"&&y(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?({}.NODE_ENV!=="production"&&y(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):({}.NODE_ENV!=="production"&&t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let c;return!!n[o]||e!==B&&$(e,o)||Zn(t,o)||(c=r[0])&&$(c,o)||$(s,o)||$(ut,o)||$(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};({}).NODE_ENV!=="production"&&(Tr.ownKeys=e=>(y("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e)));function Jc(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(ut).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>ut[n](e),set:ee})}),t}function Yc(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(s=>{Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>e.props[s],set:ee})})}function Xc(e){const{ctx:t,setupState:n}=e;Object.keys(j(n)).forEach(s=>{if(!n.__isScriptSetup){if(As(s[0])){y(`setup() return property ${JSON.stringify(s)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n[s],set:ee})}})}function di(e){return P(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Zc(){const e=Object.create(null);return(t,n)=>{e[n]?y(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let _s=!0;function Qc(e){const t=Fs(e),n=e.proxy,s=e.ctx;_s=!1,t.beforeCreate&&hi(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:c,provide:u,inject:f,created:h,beforeMount:d,mounted:b,beforeUpdate:O,updated:x,activated:D,deactivated:I,beforeDestroy:M,beforeUnmount:ce,destroyed:U,unmounted:Ne,render:k,renderTracked:Qe,renderTriggered:Le,errorCaptured:Ae,serverPrefetch:he,expose:Ve,inheritAttrs:Fe,components:pe,directives:Zt,filters:Js}=t,Ue={}.NODE_ENV!=="production"?Zc():null;if({}.NODE_ENV!=="production"){const[A]=e.propsOptions;if(A)for(const F in A)Ue("Props",F)}if(f&&Gc(f,s,Ue),o)for(const A in o){const F=o[A];V(F)?({}.NODE_ENV!=="production"?Object.defineProperty(s,A,{value:F.bind(n),configurable:!0,enumerable:!0,writable:!0}):s[A]=F.bind(n),{}.NODE_ENV!=="production"&&Ue("Methods",A)):{}.NODE_ENV!=="production"&&y(`Method "${A}" has type "${typeof F}" in the component definition. Did you reference the function correctly?`)}if(i){({}).NODE_ENV!=="production"&&!V(i)&&y("The data option must be a function. Plain object usage is no longer supported.");const A=i.call(n,n);if({}.NODE_ENV!=="production"&&Ts(A)&&y("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!K(A))({}).NODE_ENV!=="production"&&y("data() should return an object.");else if(e.data=Vs(A),{}.NODE_ENV!=="production")for(const F in A)Ue("Data",F),As(F[0])||Object.defineProperty(s,F,{configurable:!0,enumerable:!0,get:()=>A[F],set:ee})}if(_s=!0,r)for(const A in r){const F=r[A],we=V(F)?F.bind(n,n):V(F.get)?F.get.bind(n,n):ee;({}).NODE_ENV!=="production"&&we===ee&&y(`Computed property "${A}" has no getter.`);const Wn=!V(F)&&V(F.set)?F.set.bind(n):{}.NODE_ENV!=="production"?()=>{y(`Write operation failed: computed property "${A}" is readonly.`)}:ee,Pt=Al({get:we,set:Wn});Object.defineProperty(s,A,{enumerable:!0,configurable:!0,get:()=>Pt.value,set:gt=>Pt.value=gt}),{}.NODE_ENV!=="production"&&Ue("Computed",A)}if(c)for(const A in c)xr(c[A],s,n,A);if(u){const A=V(u)?u.call(n):u;Reflect.ownKeys(A).forEach(F=>{rl(F,A[F])})}h&&hi(h,e,"c");function le(A,F){P(F)?F.forEach(we=>A(we.bind(n))):F&&A(F.bind(n))}if(le(Mc,d),le($c,b),le(Lc,O),le(Ac,x),le(kc,D),le(Ic,I),le(Wc,Ae),le(Bc,Qe),le(Hc,Le),le(Fc,ce),le(Or,Ne),le(Uc,he),P(Ve))if(Ve.length){const A=e.exposed||(e.exposed={});Ve.forEach(F=>{Object.defineProperty(A,F,{get:()=>n[F],set:we=>n[F]=we})})}else e.exposed||(e.exposed={});k&&e.render===ee&&(e.render=k),Fe!=null&&(e.inheritAttrs=Fe),pe&&(e.components=pe),Zt&&(e.directives=Zt)}function Gc(e,t,n=ee){P(e)&&(e=ms(e));for(const s in e){const i=e[s];let r;K(i)?"default"in i?r=fn(i.from||s,i.default,!0):r=fn(i.from||s):r=fn(i),G(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r,{}.NODE_ENV!=="production"&&n("Inject",s)}}function hi(e,t,n){ve(P(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function xr(e,t,n,s){const i=s.includes(".")?yr(n,s):()=>n[s];if(X(e)){const r=t[e];V(r)?Xn(i,r):{}.NODE_ENV!=="production"&&y(`Invalid watch handler specified by key "${e}"`,r)}else if(V(e))Xn(i,e.bind(n));else if(K(e))if(P(e))e.forEach(r=>xr(r,t,n,s));else{const r=V(e.handler)?e.handler.bind(n):t[e.handler];V(r)?Xn(i,r,e):{}.NODE_ENV!=="production"&&y(`Invalid watch handler specified by key "${e.handler}"`,r)}else({}).NODE_ENV!=="production"&&y(`Invalid watch option: "${s}"`,e)}function Fs(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,c=r.get(t);let u;return c?u=c:!i.length&&!n&&!s?u=t:(u={},i.length&&i.forEach(f=>Nn(u,f,o,!0)),Nn(u,t,o)),K(t)&&r.set(t,u),u}function Nn(e,t,n,s=!1){const{mixins:i,extends:r}=t;r&&Nn(e,r,n,!0),i&&i.forEach(o=>Nn(e,o,n,!0));for(const o in t)if(s&&o==="expose")({}).NODE_ENV!=="production"&&y('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const c=el[o]||n&&n[o];e[o]=c?c(e[o],t[o]):t[o]}return e}const el={data:pi,props:_i,emits:_i,methods:$t,computed:$t,beforeCreate:ie,created:ie,beforeMount:ie,mounted:ie,beforeUpdate:ie,updated:ie,beforeDestroy:ie,beforeUnmount:ie,destroyed:ie,unmounted:ie,activated:ie,deactivated:ie,errorCaptured:ie,serverPrefetch:ie,components:$t,directives:$t,watch:nl,provide:pi,inject:tl};function pi(e,t){return t?e?function(){return J(V(e)?e.call(this,this):e,V(t)?t.call(this,this):t)}:t:e}function tl(e,t){return $t(ms(e),ms(t))}function ms(e){if(P(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ie(e,t){return e?[...new Set([].concat(e,t))]:t}function $t(e,t){return e?J(Object.create(null),e,t):t}function _i(e,t){return e?P(e)&&P(t)?[...new Set([...e,...t])]:J(Object.create(null),di(e),di(t??{})):t}function nl(e,t){if(!e)return t;if(!t)return e;const n=J(Object.create(null),e);for(const s in t)n[s]=ie(e[s],t[s]);return n}function Sr(){return{app:null,config:{isNativeTag:Fi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sl=0;function il(e,t){return function(s,i=null){V(s)||(s=J({},s)),i!=null&&!K(i)&&({}.NODE_ENV!=="production"&&y("root props passed to app.mount() must be an object."),i=null);const r=Sr();({}).NODE_ENV!=="production"&&Object.defineProperty(r.config,"unwrapInjectedRef",{get(){return!0},set(){y("app.config.unwrapInjectedRef has been deprecated. 3.3 now alawys unwraps injected refs in Options API.")}});const o=new Set;let c=!1;const u=r.app={_uid:sl++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Ti,get config(){return r.config},set config(f){({}).NODE_ENV!=="production"&&y("app.config cannot be replaced. Modify individual options instead.")},use(f,...h){return o.has(f)?{}.NODE_ENV!=="production"&&y("Plugin has already been applied to target app."):f&&V(f.install)?(o.add(f),f.install(u,...h)):V(f)?(o.add(f),f(u,...h)):{}.NODE_ENV!=="production"&&y('A plugin must either be a function or an object with an "install" function.'),u},mixin(f){return r.mixins.includes(f)?{}.NODE_ENV!=="production"&&y("Mixin has already been applied to target app"+(f.name?`: ${f.name}`:"")):r.mixins.push(f),u},component(f,h){return{}.NODE_ENV!=="production"&&vs(f,r.config),h?({}.NODE_ENV!=="production"&&r.components[f]&&y(`Component "${f}" has already been registered in target app.`),r.components[f]=h,u):r.components[f]},directive(f,h){return{}.NODE_ENV!=="production"&&Nr(f),h?({}.NODE_ENV!=="production"&&r.directives[f]&&y(`Directive "${f}" has already been registered in target app.`),r.directives[f]=h,u):r.directives[f]},mount(f,h,d){if(c)({}).NODE_ENV!=="production"&&y("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{({}).NODE_ENV!=="production"&&f.__vue_app__&&y("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const b=ye(s,i);return b.appContext=r,{}.NODE_ENV!=="production"&&(r.reload=()=>{e(Xe(b),f,d)}),h&&t?t(b,f):e(b,f,d),c=!0,u._container=f,f.__vue_app__=u,{}.NODE_ENV!=="production"&&(u._instance=b.component,pc(u,Ti)),Fn(b.component)||b.component.proxy}},unmount(){c?(e(null,u._container),{}.NODE_ENV!=="production"&&(u._instance=null,_c(u)),delete u._container.__vue_app__):{}.NODE_ENV!=="production"&&y("Cannot unmount an app that is not mounted.")},provide(f,h){return{}.NODE_ENV!=="production"&&f in r.provides&&y(`App already provides property with key "${String(f)}". It will be overwritten with the new value.`),r.provides[f]=h,u},runWithContext(f){wn=u;try{return f()}finally{wn=null}}};return u}}let wn=null;function rl(e,t){if(!Q)({}).NODE_ENV!=="production"&&y("provide() can only be used inside setup().");else{let n=Q.provides;const s=Q.parent&&Q.parent.provides;s===n&&(n=Q.provides=Object.create(s)),n[e]=t}}function fn(e,t,n=!1){const s=Q||ae;if(s||wn){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:wn._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&V(t)?t.call(s&&s.proxy):t;({}).NODE_ENV!=="production"&&y(`injection "${String(e)}" not found.`)}else({}).NODE_ENV!=="production"&&y("inject() can only be used inside setup() or functional components.")}function ol(e,t,n,s=!1){const i={},r={};bn(r,An,1),e.propsDefaults=Object.create(null),Dr(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);({}).NODE_ENV!=="production"&&Pr(t||{},i,e),n?e.props=s?i:qo(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function cl(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function ll(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,c=j(i),[u]=e.propsOptions;let f=!1;if(!({}.NODE_ENV!=="production"&&cl(e))&&(s||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let b=h[d];if($n(e.emitsOptions,b))continue;const O=t[b];if(u)if($(r,b))O!==r[b]&&(r[b]=O,f=!0);else{const x=Ce(b);i[x]=gs(u,c,x,O,e,!1)}else O!==r[b]&&(r[b]=O,f=!0)}}}else{Dr(e,t,i,r)&&(f=!0);let h;for(const d in c)(!t||!$(t,d)&&((h=Me(d))===d||!$(t,h)))&&(u?n&&(n[d]!==void 0||n[h]!==void 0)&&(i[d]=gs(u,c,d,void 0,e,!0)):delete i[d]);if(r!==c)for(const d in r)(!t||!$(t,d))&&(delete r[d],f=!0)}f&&Pe(e,"set","$attrs"),{}.NODE_ENV!=="production"&&Pr(t||{},i,e)}function Dr(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,c;if(t)for(let u in t){if(cn(u))continue;const f=t[u];let h;i&&$(i,h=Ce(u))?!r||!r.includes(h)?n[h]=f:(c||(c={}))[h]=f:$n(e.emitsOptions,u)||(!(u in s)||f!==s[u])&&(s[u]=f,o=!0)}if(r){const u=j(n),f=c||B;for(let h=0;h<r.length;h++){const d=r[h];n[d]=gs(i,u,d,f[d],e,!$(f,d))}}return o}function gs(e,t,n,s,i,r){const o=e[n];if(o!=null){const c=$(o,"default");if(c&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&V(u)){const{propsDefaults:f}=i;n in f?s=f[n]:(Ct(i),s=f[n]=u.call(null,t),at())}else s=u}o[0]&&(r&&!c?s=!1:o[1]&&(s===""||s===Me(n))&&(s=!0))}return s}function Cr(e,t,n=!1){const s=t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},c=[];let u=!1;if(!V(e)){const h=d=>{u=!0;const[b,O]=Cr(d,t,!0);J(o,b),O&&c.push(...O)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!r&&!u)return K(e)&&s.set(e,Tt),Tt;if(P(r))for(let h=0;h<r.length;h++){({}).NODE_ENV!=="production"&&!X(r[h])&&y("props must be strings when using array syntax.",r[h]);const d=Ce(r[h]);mi(d)&&(o[d]=B)}else if(r){({}).NODE_ENV!=="production"&&!K(r)&&y("invalid props options",r);for(const h in r){const d=Ce(h);if(mi(d)){const b=r[h],O=o[d]=P(b)||V(b)?{type:b}:J({},b);if(O){const x=bi(Boolean,O.type),D=bi(String,O.type);O[0]=x>-1,O[1]=D<0||x<D,(x>-1||$(O,"default"))&&c.push(d)}}}}const f=[o,c];return K(e)&&s.set(e,f),f}function mi(e){return e[0]!=="$"?!0:({}.NODE_ENV!=="production"&&y(`Invalid prop name: "${e}" is a reserved property.`),!1)}function bs(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function gi(e,t){return bs(e)===bs(t)}function bi(e,t){return P(t)?t.findIndex(n=>gi(n,e)):V(t)&&gi(t,e)?0:-1}function Pr(e,t,n){const s=j(t),i=n.propsOptions[0];for(const r in i){let o=i[r];o!=null&&ul(r,s[r],o,!$(e,r)&&!$(e,Me(r)))}}function ul(e,t,n,s){const{type:i,required:r,validator:o,skipCheck:c}=n;if(r&&s){y('Missing required prop: "'+e+'"');return}if(!(t==null&&!r)){if(i!=null&&i!==!0&&!c){let u=!1;const f=P(i)?i:[i],h=[];for(let d=0;d<f.length&&!u;d++){const{valid:b,expectedType:O}=fl(t,f[d]);h.push(O||""),u=b}if(!u){y(dl(e,t,h));return}}o&&!o(t)&&y('Invalid prop: custom validator check failed for prop "'+e+'".')}}const al=Ze("String,Number,Boolean,Function,Symbol,BigInt");function fl(e,t){let n;const s=bs(t);if(al(s)){const i=typeof e;n=i===s.toLowerCase(),!n&&i==="object"&&(n=e instanceof t)}else s==="Object"?n=K(e):s==="Array"?n=P(e):s==="null"?n=e===null:n=e instanceof t;return{valid:n,expectedType:s}}function dl(e,t,n){let s=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(dt).join(" | ")}`;const i=n[0],r=xs(t),o=Ei(t,i),c=Ei(t,r);return n.length===1&&vi(i)&&!hl(i,r)&&(s+=` with value ${o}`),s+=`, got ${r} `,vi(r)&&(s+=`with value ${c}.`),s}function Ei(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function vi(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function hl(...e){return e.some(t=>t.toLowerCase()==="boolean")}const Vr=e=>e[0]==="_"||e==="$stable",Us=e=>P(e)?e.map(be):[be(e)],pl=(e,t,n)=>{if(t._n)return t;const s=wc((...i)=>({}.NODE_ENV!=="production"&&Q&&y(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Us(t(...i))),n);return s._c=!1,s},Rr=(e,t,n)=>{const s=e._ctx;for(const i in e){if(Vr(i))continue;const r=e[i];if(V(r))t[i]=pl(i,r,s);else if(r!=null){({}).NODE_ENV!=="production"&&y(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const o=Us(r);t[i]=()=>o}}},kr=(e,t)=>{({}).NODE_ENV!=="production"&&!Ls(e.vnode)&&y("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=Us(t);e.slots.default=()=>n},_l=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=j(t),bn(t,"_",n)):Rr(t,e.slots={})}else e.slots={},t&&kr(e,t);bn(e.slots,An,1)},ml=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=B;if(s.shapeFlag&32){const c=t._;c?{}.NODE_ENV!=="production"&&lt?(J(i,t),Pe(e,"set","$slots")):n&&c===1?r=!1:(J(i,t),!n&&c===1&&delete i._):(r=!t.$stable,Rr(t,i)),o=t}else t&&(kr(e,t),o={default:1});if(r)for(const c in i)!Vr(c)&&!(c in o)&&delete i[c]};function Es(e,t,n,s,i=!1){if(P(e)){e.forEach((b,O)=>Es(b,t&&(P(t)?t[O]:t),n,s,i));return}if(an(s)&&!i)return;const r=s.shapeFlag&4?Fn(s.component)||s.component.proxy:s.el,o=i?null:r,{i:c,r:u}=e;if({}.NODE_ENV!=="production"&&!c){y("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const f=t&&t.r,h=c.refs===B?c.refs={}:c.refs,d=c.setupState;if(f!=null&&f!==u&&(X(f)?(h[f]=null,$(d,f)&&(d[f]=null)):G(f)&&(f.value=null)),V(u))je(u,c,12,[o,h]);else{const b=X(u),O=G(u);if(b||O){const x=()=>{if(e.f){const D=b?$(d,u)?d[u]:h[u]:u.value;i?P(D)&&ws(D,r):P(D)?D.includes(r)||D.push(r):b?(h[u]=[r],$(d,u)&&(d[u]=h[u])):(u.value=[r],e.k&&(h[e.k]=u.value))}else b?(h[u]=o,$(d,u)&&(d[u]=o)):O?(u.value=o,e.k&&(h[e.k]=o)):{}.NODE_ENV!=="production"&&y("Invalid template ref type:",u,`(${typeof u})`)};o?(x.id=-1,ue(x,n)):x()}else({}).NODE_ENV!=="production"&&y("Invalid template ref type:",u,`(${typeof u})`)}}let Rt,Ke;function ke(e,t){e.appContext.config.performance&&On()&&Ke.mark(`vue-${t}-${e.uid}`),{}.NODE_ENV!=="production"&&Ec(e,t,On()?Ke.now():Date.now())}function Ie(e,t){if(e.appContext.config.performance&&On()){const n=`vue-${t}-${e.uid}`,s=n+":end";Ke.mark(s),Ke.measure(`<${Un(e,e.type)}> ${t}`,n,s),Ke.clearMarks(n),Ke.clearMarks(s)}({}).NODE_ENV!=="production"&&vc(e,t,On()?Ke.now():Date.now())}function On(){return Rt!==void 0||(typeof window<"u"&&window.performance?(Rt=!0,Ke=window.performance):Rt=!1),Rt}function gl(){const e=[];if({}.NODE_ENV!=="production"&&e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const ue=Pc;function bl(e){return El(e)}function El(e,t){gl();const n=En();n.__VUE__=!0,{}.NODE_ENV!=="production"&&pr(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:s,remove:i,patchProp:r,createElement:o,createText:c,createComment:u,setText:f,setElementText:h,parentNode:d,nextSibling:b,setScopeId:O=ee,insertStaticContent:x}=e,D=(l,a,p,m=null,_=null,v=null,w=!1,E=null,N={}.NODE_ENV!=="production"&&lt?!1:!!a.dynamicChildren)=>{if(l===a)return;l&&!kt(l,a)&&(m=Qt(l),He(l,_,v,!0),l=null),a.patchFlag===-2&&(N=!1,a.dynamicChildren=null);const{type:g,ref:S,shapeFlag:T}=a;switch(g){case Xt:I(l,a,p,m);break;case fe:M(l,a,p,m);break;case hn:l==null?ce(a,p,m,w):{}.NODE_ENV!=="production"&&U(l,a,p,w);break;case ge:Zt(l,a,p,m,_,v,w,E,N);break;default:T&1?Qe(l,a,p,m,_,v,w,E,N):T&6?Js(l,a,p,m,_,v,w,E,N):T&64||T&128?g.process(l,a,p,m,_,v,w,E,N,bt):{}.NODE_ENV!=="production"&&y("Invalid VNode type:",g,`(${typeof g})`)}S!=null&&_&&Es(S,l&&l.ref,v,a||l,!a)},I=(l,a,p,m)=>{if(l==null)s(a.el=c(a.children),p,m);else{const _=a.el=l.el;a.children!==l.children&&f(_,a.children)}},M=(l,a,p,m)=>{l==null?s(a.el=u(a.children||""),p,m):a.el=l.el},ce=(l,a,p,m)=>{[l.el,l.anchor]=x(l.children,a,p,m,l.el,l.anchor)},U=(l,a,p,m)=>{if(a.children!==l.children){const _=b(l.anchor);k(l),[a.el,a.anchor]=x(a.children,p,_,m)}else a.el=l.el,a.anchor=l.anchor},Ne=({el:l,anchor:a},p,m)=>{let _;for(;l&&l!==a;)_=b(l),s(l,p,m),l=_;s(a,p,m)},k=({el:l,anchor:a})=>{let p;for(;l&&l!==a;)p=b(l),i(l),l=p;i(a)},Qe=(l,a,p,m,_,v,w,E,N)=>{w=w||a.type==="svg",l==null?Le(a,p,m,_,v,w,E,N):Ve(l,a,_,v,w,E,N)},Le=(l,a,p,m,_,v,w,E)=>{let N,g;const{type:S,props:T,shapeFlag:C,transition:R,dirs:L}=l;if(N=l.el=o(l.type,v,T&&T.is,T),C&8?h(N,l.children):C&16&&he(l.children,N,null,m,_,v&&S!=="foreignObject",w,E),L&&Ge(l,null,m,"created"),Ae(N,l,l.scopeId,w,m),T){for(const H in T)H!=="value"&&!cn(H)&&r(N,H,null,T[H],v,l.children,m,_,Re);"value"in T&&r(N,"value",null,T.value),(g=T.onVnodeBeforeMount)&&Te(g,m,l)}({}).NODE_ENV!=="production"&&(Object.defineProperty(N,"__vnode",{value:l,enumerable:!1}),Object.defineProperty(N,"__vueParentComponent",{value:m,enumerable:!1})),L&&Ge(l,null,m,"beforeMount");const z=(!_||_&&!_.pendingBranch)&&R&&!R.persisted;z&&R.beforeEnter(N),s(N,a,p),((g=T&&T.onVnodeMounted)||z||L)&&ue(()=>{g&&Te(g,m,l),z&&R.enter(N),L&&Ge(l,null,m,"mounted")},_)},Ae=(l,a,p,m,_)=>{if(p&&O(l,p),m)for(let v=0;v<m.length;v++)O(l,m[v]);if(_){let v=_.subTree;if({}.NODE_ENV!=="production"&&v.patchFlag>0&&v.patchFlag&2048&&(v=Er(v.children)||v),a===v){const w=_.vnode;Ae(l,w,w.scopeId,w.slotScopeIds,_.parent)}}},he=(l,a,p,m,_,v,w,E,N=0)=>{for(let g=N;g<l.length;g++){const S=l[g]=E?ze(l[g]):be(l[g]);D(null,S,a,p,m,_,v,w,E)}},Ve=(l,a,p,m,_,v,w)=>{const E=a.el=l.el;let{patchFlag:N,dynamicChildren:g,dirs:S}=a;N|=l.patchFlag&16;const T=l.props||B,C=a.props||B;let R;p&&et(p,!1),(R=C.onVnodeBeforeUpdate)&&Te(R,p,a,l),S&&Ge(a,l,p,"beforeUpdate"),p&&et(p,!0),{}.NODE_ENV!=="production"&&lt&&(N=0,w=!1,g=null);const L=_&&a.type!=="foreignObject";if(g?(Fe(l.dynamicChildren,g,E,p,m,L,v),{}.NODE_ENV!=="production"&&dn(l,a)):w||we(l,a,E,null,p,m,L,v,!1),N>0){if(N&16)pe(E,a,T,C,p,m,_);else if(N&2&&T.class!==C.class&&r(E,"class",null,C.class,_),N&4&&r(E,"style",T.style,C.style,_),N&8){const z=a.dynamicProps;for(let H=0;H<z.length;H++){const Z=z[H],_e=T[Z],Et=C[Z];(Et!==_e||Z==="value")&&r(E,Z,_e,Et,_,l.children,p,m,Re)}}N&1&&l.children!==a.children&&h(E,a.children)}else!w&&g==null&&pe(E,a,T,C,p,m,_);((R=C.onVnodeUpdated)||S)&&ue(()=>{R&&Te(R,p,a,l),S&&Ge(a,l,p,"updated")},m)},Fe=(l,a,p,m,_,v,w)=>{for(let E=0;E<a.length;E++){const N=l[E],g=a[E],S=N.el&&(N.type===ge||!kt(N,g)||N.shapeFlag&70)?d(N.el):p;D(N,g,S,null,m,_,v,w,!0)}},pe=(l,a,p,m,_,v,w)=>{if(p!==m){if(p!==B)for(const E in p)!cn(E)&&!(E in m)&&r(l,E,p[E],null,w,a.children,_,v,Re);for(const E in m){if(cn(E))continue;const N=m[E],g=p[E];N!==g&&E!=="value"&&r(l,E,g,N,w,a.children,_,v,Re)}"value"in m&&r(l,"value",p.value,m.value)}},Zt=(l,a,p,m,_,v,w,E,N)=>{const g=a.el=l?l.el:c(""),S=a.anchor=l?l.anchor:c("");let{patchFlag:T,dynamicChildren:C,slotScopeIds:R}=a;({}).NODE_ENV!=="production"&&(lt||T&2048)&&(T=0,N=!1,C=null),R&&(E=E?E.concat(R):R),l==null?(s(g,p,m),s(S,p,m),he(a.children,p,S,_,v,w,E,N)):T>0&&T&64&&C&&l.dynamicChildren?(Fe(l.dynamicChildren,C,p,_,v,w,E),{}.NODE_ENV!=="production"?dn(l,a):(a.key!=null||_&&a===_.subTree)&&dn(l,a,!0)):we(l,a,p,S,_,v,w,E,N)},Js=(l,a,p,m,_,v,w,E,N)=>{a.slotScopeIds=E,l==null?a.shapeFlag&512?_.ctx.activate(a,p,m,w,N):Ue(a,p,m,_,v,w,N):le(l,a,N)},Ue=(l,a,p,m,_,v,w)=>{const E=l.component=Vl(l,m,_);if({}.NODE_ENV!=="production"&&E.type.__hmrId&&ac(E),{}.NODE_ENV!=="production"&&(ln(l),ke(E,"mount")),Ls(l)&&(E.ctx.renderer=bt),{}.NODE_ENV!=="production"&&ke(E,"init"),kl(E),{}.NODE_ENV!=="production"&&Ie(E,"init"),E.asyncDep){if(_&&_.registerDep(E,A),!l.el){const N=E.subTree=ye(fe);M(null,N,a,p)}return}A(E,l,a,p,_,v,w),{}.NODE_ENV!=="production"&&(un(),Ie(E,"mount"))},le=(l,a,p)=>{const m=a.component=l.component;if(Sc(l,a,p))if(m.asyncDep&&!m.asyncResolved){({}).NODE_ENV!=="production"&&ln(a),F(m,a,p),{}.NODE_ENV!=="production"&&un();return}else m.next=a,lc(m.update),m.update();else a.el=l.el,m.vnode=a},A=(l,a,p,m,_,v,w)=>{const E=()=>{if(l.isMounted){let{next:S,bu:T,u:C,parent:R,vnode:L}=l,z=S,H;({}).NODE_ENV!=="production"&&ln(S||l.vnode),et(l,!1),S?(S.el=L.el,F(l,S,w)):S=L,T&&yt(T),(H=S.props&&S.props.onVnodeBeforeUpdate)&&Te(H,R,S,L),et(l,!0),{}.NODE_ENV!=="production"&&ke(l,"render");const Z=Yn(l);({}).NODE_ENV!=="production"&&Ie(l,"render");const _e=l.subTree;l.subTree=Z,{}.NODE_ENV!=="production"&&ke(l,"patch"),D(_e,Z,d(_e.el),Qt(_e),l,_,v),{}.NODE_ENV!=="production"&&Ie(l,"patch"),S.el=Z.el,z===null&&Dc(l,Z.el),C&&ue(C,_),(H=S.props&&S.props.onVnodeUpdated)&&ue(()=>Te(H,R,S,L),_),{}.NODE_ENV!=="production"&&_r(l),{}.NODE_ENV!=="production"&&un()}else{let S;const{el:T,props:C}=a,{bm:R,m:L,parent:z}=l,H=an(a);if(et(l,!1),R&&yt(R),!H&&(S=C&&C.onVnodeBeforeMount)&&Te(S,z,a),et(l,!0),T&&qn){const Z=()=>{({}).NODE_ENV!=="production"&&ke(l,"render"),l.subTree=Yn(l),{}.NODE_ENV!=="production"&&Ie(l,"render"),{}.NODE_ENV!=="production"&&ke(l,"hydrate"),qn(T,l.subTree,l,_,null),{}.NODE_ENV!=="production"&&Ie(l,"hydrate")};H?a.type.__asyncLoader().then(()=>!l.isUnmounted&&Z()):Z()}else{({}).NODE_ENV!=="production"&&ke(l,"render");const Z=l.subTree=Yn(l);({}).NODE_ENV!=="production"&&Ie(l,"render"),{}.NODE_ENV!=="production"&&ke(l,"patch"),D(null,Z,p,m,l,_,v),{}.NODE_ENV!=="production"&&Ie(l,"patch"),a.el=Z.el}if(L&&ue(L,_),!H&&(S=C&&C.onVnodeMounted)){const Z=a;ue(()=>Te(S,z,Z),_)}(a.shapeFlag&256||z&&an(z.vnode)&&z.vnode.shapeFlag&256)&&l.a&&ue(l.a,_),l.isMounted=!0,{}.NODE_ENV!=="production"&&mc(l),a=p=m=null}},N=l.effect=new Cs(E,()=>Mn(g),l.scope),g=l.update=()=>N.run();g.id=l.uid,et(l,!0),{}.NODE_ENV!=="production"&&(N.onTrack=l.rtc?S=>yt(l.rtc,S):void 0,N.onTrigger=l.rtg?S=>yt(l.rtg,S):void 0,g.ownerInstance=l),g()},F=(l,a,p)=>{a.component=l;const m=l.vnode.props;l.vnode=a,l.next=null,ll(l,a.props,m,p),ml(l,a.children,p),_t(),ci(),mt()},we=(l,a,p,m,_,v,w,E,N=!1)=>{const g=l&&l.children,S=l?l.shapeFlag:0,T=a.children,{patchFlag:C,shapeFlag:R}=a;if(C>0){if(C&128){Pt(g,T,p,m,_,v,w,E,N);return}else if(C&256){Wn(g,T,p,m,_,v,w,E,N);return}}R&8?(S&16&&Re(g,_,v),T!==g&&h(p,T)):S&16?R&16?Pt(g,T,p,m,_,v,w,E,N):Re(g,_,v,!0):(S&8&&h(p,""),R&16&&he(T,p,m,_,v,w,E,N))},Wn=(l,a,p,m,_,v,w,E,N)=>{l=l||Tt,a=a||Tt;const g=l.length,S=a.length,T=Math.min(g,S);let C;for(C=0;C<T;C++){const R=a[C]=N?ze(a[C]):be(a[C]);D(l[C],R,p,null,_,v,w,E,N)}g>S?Re(l,_,v,!0,!1,T):he(a,p,m,_,v,w,E,N,T)},Pt=(l,a,p,m,_,v,w,E,N)=>{let g=0;const S=a.length;let T=l.length-1,C=S-1;for(;g<=T&&g<=C;){const R=l[g],L=a[g]=N?ze(a[g]):be(a[g]);if(kt(R,L))D(R,L,p,null,_,v,w,E,N);else break;g++}for(;g<=T&&g<=C;){const R=l[T],L=a[C]=N?ze(a[C]):be(a[C]);if(kt(R,L))D(R,L,p,null,_,v,w,E,N);else break;T--,C--}if(g>T){if(g<=C){const R=C+1,L=R<S?a[R].el:m;for(;g<=C;)D(null,a[g]=N?ze(a[g]):be(a[g]),p,L,_,v,w,E,N),g++}}else if(g>C)for(;g<=T;)He(l[g],_,v,!0),g++;else{const R=g,L=g,z=new Map;for(g=L;g<=C;g++){const se=a[g]=N?ze(a[g]):be(a[g]);se.key!=null&&({}.NODE_ENV!=="production"&&z.has(se.key)&&y("Duplicate keys found during update:",JSON.stringify(se.key),"Make sure keys are unique."),z.set(se.key,g))}let H,Z=0;const _e=C-L+1;let Et=!1,Xs=0;const Vt=new Array(_e);for(g=0;g<_e;g++)Vt[g]=0;for(g=R;g<=T;g++){const se=l[g];if(Z>=_e){He(se,_,v,!0);continue}let Oe;if(se.key!=null)Oe=z.get(se.key);else for(H=L;H<=C;H++)if(Vt[H-L]===0&&kt(se,a[H])){Oe=H;break}Oe===void 0?He(se,_,v,!0):(Vt[Oe-L]=g+1,Oe>=Xs?Xs=Oe:Et=!0,D(se,a[Oe],p,null,_,v,w,E,N),Z++)}const Zs=Et?vl(Vt):Tt;for(H=Zs.length-1,g=_e-1;g>=0;g--){const se=L+g,Oe=a[se],Qs=se+1<S?a[se+1].el:m;Vt[g]===0?D(null,Oe,p,Qs,_,v,w,E,N):Et&&(H<0||g!==Zs[H]?gt(Oe,p,Qs,2):H--)}}},gt=(l,a,p,m,_=null)=>{const{el:v,type:w,transition:E,children:N,shapeFlag:g}=l;if(g&6){gt(l.component.subTree,a,p,m);return}if(g&128){l.suspense.move(a,p,m);return}if(g&64){w.move(l,a,p,bt);return}if(w===ge){s(v,a,p);for(let T=0;T<N.length;T++)gt(N[T],a,p,m);s(l.anchor,a,p);return}if(w===hn){Ne(l,a,p);return}if(m!==2&&g&1&&E)if(m===0)E.beforeEnter(v),s(v,a,p),ue(()=>E.enter(v),_);else{const{leave:T,delayLeave:C,afterLeave:R}=E,L=()=>s(v,a,p),z=()=>{T(v,()=>{L(),R&&R()})};C?C(v,L,z):z()}else s(v,a,p)},He=(l,a,p,m=!1,_=!1)=>{const{type:v,props:w,ref:E,children:N,dynamicChildren:g,shapeFlag:S,patchFlag:T,dirs:C}=l;if(E!=null&&Es(E,null,p,l,!0),S&256){a.ctx.deactivate(l);return}const R=S&1&&C,L=!an(l);let z;if(L&&(z=w&&w.onVnodeBeforeUnmount)&&Te(z,a,l),S&6)eo(l.component,p,m);else{if(S&128){l.suspense.unmount(p,m);return}R&&Ge(l,null,a,"beforeUnmount"),S&64?l.type.remove(l,a,p,_,bt,m):g&&(v!==ge||T>0&&T&64)?Re(g,a,p,!1,!0):(v===ge&&T&384||!_&&S&16)&&Re(N,a,p),m&&zn(l)}(L&&(z=w&&w.onVnodeUnmounted)||R)&&ue(()=>{z&&Te(z,a,l),R&&Ge(l,null,a,"unmounted")},p)},zn=l=>{const{type:a,el:p,anchor:m,transition:_}=l;if(a===ge){({}).NODE_ENV!=="production"&&l.patchFlag>0&&l.patchFlag&2048&&_&&!_.persisted?l.children.forEach(w=>{w.type===fe?i(w.el):zn(w)}):Gr(p,m);return}if(a===hn){k(l);return}const v=()=>{i(p),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(l.shapeFlag&1&&_&&!_.persisted){const{leave:w,delayLeave:E}=_,N=()=>w(p,v);E?E(l.el,v,N):N()}else v()},Gr=(l,a)=>{let p;for(;l!==a;)p=b(l),i(l),l=p;i(a)},eo=(l,a,p)=>{({}).NODE_ENV!=="production"&&l.type.__hmrId&&fc(l);const{bum:m,scope:_,update:v,subTree:w,um:E}=l;m&&yt(m),_.stop(),v&&(v.active=!1,He(w,l,a,p)),E&&ue(E,a),ue(()=>{l.isUnmounted=!0},a),a&&a.pendingBranch&&!a.isUnmounted&&l.asyncDep&&!l.asyncResolved&&l.suspenseId===a.pendingId&&(a.deps--,a.deps===0&&a.resolve()),{}.NODE_ENV!=="production"&&bc(l)},Re=(l,a,p,m=!1,_=!1,v=0)=>{for(let w=v;w<l.length;w++)He(l[w],a,p,m,_)},Qt=l=>l.shapeFlag&6?Qt(l.component.subTree):l.shapeFlag&128?l.suspense.next():b(l.anchor||l.el),Ys=(l,a,p)=>{l==null?a._vnode&&He(a._vnode,null,null,!0):D(a._vnode||null,l,a,null,null,null,p),ci(),fr(),a._vnode=l},bt={p:D,um:He,m:gt,r:zn,mt:Ue,mc:he,pc:we,pbc:Fe,n:Qt,o:e};let Kn,qn;return t&&([Kn,qn]=t(bt)),{render:Ys,hydrate:Kn,createApp:il(Ys,Kn)}}function et({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function dn(e,t,n=!1){const s=e.children,i=t.children;if(P(s)&&P(i))for(let r=0;r<s.length;r++){const o=s[r];let c=i[r];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[r]=ze(i[r]),c.el=o.el),n||dn(o,c)),c.type===Xt&&(c.el=o.el),{}.NODE_ENV!=="production"&&c.type===fe&&!c.el&&(c.el=o.el)}}function vl(e){const t=e.slice(),n=[0];let s,i,r,o,c;const u=e.length;for(s=0;s<u;s++){const f=e[s];if(f!==0){if(i=n[n.length-1],e[i]<f){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)c=r+o>>1,e[n[c]]<f?r=c+1:o=c;f<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const yl=e=>e.__isTeleport,ge=Symbol.for("v-fgt"),Xt=Symbol.for("v-txt"),fe=Symbol.for("v-cmt"),hn=Symbol.for("v-stc"),At=[];let Ee=null;function Dt(e=!1){At.push(Ee=e?null:[])}function Nl(){At.pop(),Ee=At[At.length-1]||null}let zt=1;function yi(e){zt+=e}function Ir(e){return e.dynamicChildren=zt>0?Ee||Tt:null,Nl(),zt>0&&Ee&&Ee.push(e),e}function Kt(e,t,n,s,i,r){return Ir(de(e,t,n,s,i,r,!0))}function wl(e,t,n,s,i){return Ir(ye(e,t,n,s,i,!0))}function Hs(e){return e?e.__v_isVNode===!0:!1}function kt(e,t){return{}.NODE_ENV!=="production"&&t.shapeFlag&6&&Nt.has(t.type)?(e.shapeFlag&=-257,t.shapeFlag&=-513,!1):e.type===t.type&&e.key===t.key}const Ol=(...e)=>Mr(...e),An="__vInternal",jr=({key:e})=>e??null,pn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?X(e)||G(e)||V(e)?{i:ae,r:e,k:t,f:!!n}:e:null);function de(e,t=null,n=null,s=0,i=null,r=e===ge?0:1,o=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&jr(t),ref:t&&pn(t),scopeId:br,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ae};return c?(Bs(u,n),r&128&&e.normalize(u)):n&&(u.shapeFlag|=X(n)?8:16),{}.NODE_ENV!=="production"&&u.key!==u.key&&y("VNode created with invalid key (NaN). VNode type:",u.type),zt>0&&!o&&Ee&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&Ee.push(u),u}const ye={}.NODE_ENV!=="production"?Ol:Mr;function Mr(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===Kc)&&({}.NODE_ENV!=="production"&&!e&&y(`Invalid vnode type when creating vnode: ${e}.`),e=fe),Hs(e)){const c=Xe(e,t,!0);return n&&Bs(c,n),zt>0&&!r&&Ee&&(c.shapeFlag&6?Ee[Ee.indexOf(e)]=c:Ee.push(c)),c.patchFlag|=-2,c}if(Ur(e)&&(e=e.__vccOpts),t){t=Tl(t);let{class:c,style:u}=t;c&&!X(c)&&(t.class=Ut(c)),K(u)&&(us(u)&&!P(u)&&(u=J({},u)),t.style=Ds(u))}const o=X(e)?1:Cc(e)?128:yl(e)?64:K(e)?4:V(e)?2:0;return{}.NODE_ENV!=="production"&&o&4&&us(e)&&(e=j(e),y("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),de(e,t,n,s,i,o,r,!0)}function Tl(e){return e?us(e)||An in e?J({},e):e:null}function Xe(e,t,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=e,c=t?Dl(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&jr(c),ref:t&&t.ref?n&&i?P(i)?i.concat(pn(t)):[i,pn(t)]:pn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:{}.NODE_ENV!=="production"&&r===-1&&P(o)?o.map($r):o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ge?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xe(e.ssContent),ssFallback:e.ssFallback&&Xe(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function $r(e){const t=Xe(e);return P(e.children)&&(t.children=e.children.map($r)),t}function xl(e=" ",t=0){return ye(Xt,null,e,t)}function Sl(e="",t=!1){return t?(Dt(),wl(fe,null,e)):ye(fe,null,e)}function be(e){return e==null||typeof e=="boolean"?ye(fe):P(e)?ye(ge,null,e.slice()):typeof e=="object"?ze(e):ye(Xt,null,String(e))}function ze(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Xe(e)}function Bs(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(P(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),Bs(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(An in t)?t._ctx=ae:i===3&&ae&&(ae.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else V(t)?(t={default:t,_ctx:ae},n=32):(t=String(t),s&64?(n=16,t=[xl(t)]):n=8);e.children=t,e.shapeFlag|=n}function Dl(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=Ut([t.class,s.class]));else if(i==="style")t.style=Ds([t.style,s.style]);else if(Jt(i)){const r=t[i],o=s[i];o&&r!==o&&!(P(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function Te(e,t,n,s=null){ve(e,t,7,[n,s])}const Cl=Sr();let Pl=0;function Vl(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||Cl,r={uid:Pl++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new go(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Cr(s,i),emitsOptions:gr(s,i),emit:null,emitted:null,propsDefaults:B,inheritAttrs:s.inheritAttrs,ctx:B,data:B,props:B,attrs:B,slots:B,refs:B,setupState:B,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return{}.NODE_ENV!=="production"?r.ctx=Jc(r):r.ctx={_:r},r.root=t?t.root:r,r.emit=Nc.bind(null,r),e.ce&&e.ce(r),r}let Q=null,Ws,vt,Ni="__VUE_INSTANCE_SETTERS__";(vt=En()[Ni])||(vt=En()[Ni]=[]),vt.push(e=>Q=e),Ws=e=>{vt.length>1?vt.forEach(t=>t(e)):vt[0](e)};const Ct=e=>{Ws(e),e.scope.on()},at=()=>{Q&&Q.scope.off(),Ws(null)},Rl=Ze("slot,component");function vs(e,t){const n=t.isNativeTag||Fi;(Rl(e)||n(e))&&y("Do not use built-in or reserved HTML elements as component id: "+e)}function Lr(e){return e.vnode.shapeFlag&4}let qt=!1;function kl(e,t=!1){qt=t;const{props:n,children:s}=e.vnode,i=Lr(e);ol(e,n,i,t),_l(e,s);const r=i?Il(e,t):void 0;return qt=!1,r}function Il(e,t){var n;const s=e.type;if({}.NODE_ENV!=="production"){if(s.name&&vs(s.name,e.appContext.config),s.components){const r=Object.keys(s.components);for(let o=0;o<r.length;o++)vs(r[o],e.appContext.config)}if(s.directives){const r=Object.keys(s.directives);for(let o=0;o<r.length;o++)Nr(r[o])}s.compilerOptions&&Ar()&&y('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=rr(new Proxy(e.ctx,Tr)),{}.NODE_ENV!=="production"&&Yc(e);const{setup:i}=s;if(i){const r=e.setupContext=i.length>1?Ml(e):null;Ct(e),_t();const o=je(i,e,0,[{}.NODE_ENV!=="production"?jt(e.props):e.props,r]);if(mt(),at(),Ts(o)){if(o.then(at,at),t)return o.then(c=>{wi(e,c,t)}).catch(c=>{jn(c,e,0)});if(e.asyncDep=o,{}.NODE_ENV!=="production"&&!e.suspense){const c=(n=s.name)!=null?n:"Anonymous";y(`Component <${c}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else wi(e,o,t)}else Fr(e,t)}function wi(e,t,n){V(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:K(t)?({}.NODE_ENV!=="production"&&Hs(t)&&y("setup() should not return VNodes directly - return a render function instead."),{}.NODE_ENV!=="production"&&(e.devtoolsRawSetupState=t),e.setupState=or(t),{}.NODE_ENV!=="production"&&Xc(e)):{}.NODE_ENV!=="production"&&t!==void 0&&y(`setup() should return an object. Received: ${t===null?"null":typeof t}`),Fr(e,n)}let ys;const Ar=()=>!ys;function Fr(e,t,n){const s=e.type;if(!e.render){if(!t&&ys&&!s.render){const i=s.template||Fs(e).template;if(i){({}).NODE_ENV!=="production"&&ke(e,"compile");const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:c,compilerOptions:u}=s,f=J(J({isCustomElement:r,delimiters:c},o),u);s.render=ys(i,f),{}.NODE_ENV!=="production"&&Ie(e,"compile")}}e.render=s.render||ee}Ct(e),_t(),Qc(e),mt(),at(),{}.NODE_ENV!=="production"&&!s.render&&e.render===ee&&!t&&(s.template?y('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):y("Component is missing template or render function."))}function Oi(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{}.NODE_ENV!=="production"?{get(t,n){return yn(),te(e,"get","$attrs"),t[n]},set(){return y("setupContext.attrs is readonly."),!1},deleteProperty(){return y("setupContext.attrs is readonly."),!1}}:{get(t,n){return te(e,"get","$attrs"),t[n]}}))}function jl(e){return e.slotsProxy||(e.slotsProxy=new Proxy(e.slots,{get(t,n){return te(e,"get","$slots"),t[n]}}))}function Ml(e){const t=n=>{if({}.NODE_ENV!=="production"&&(e.exposed&&y("expose() should be called only once per setup()."),n!=null)){let s=typeof n;s==="object"&&(P(n)?s="array":G(n)&&(s="ref")),s!=="object"&&y(`expose() should be passed a plain object, received ${s}.`)}e.exposed=n||{}};return{}.NODE_ENV!=="production"?Object.freeze({get attrs(){return Oi(e)},get slots(){return jl(e)},get emit(){return(n,...s)=>e.emit(n,...s)},expose:t}):{get attrs(){return Oi(e)},slots:e.slots,emit:e.emit,expose:t}}function Fn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(or(rr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ut)return ut[n](e)},has(t,n){return n in t||n in ut}}))}const $l=/(?:^|[-_])(\w)/g,Ll=e=>e.replace($l,t=>t.toUpperCase()).replace(/[-_]/g,"");function zs(e,t=!0){return V(e)?e.displayName||e.name:e.name||t&&e.__name}function Un(e,t,n=!1){let s=zs(t);if(!s&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(s=i[1])}if(!s&&e&&e.parent){const i=r=>{for(const o in r)if(r[o]===t)return o};s=i(e.components||e.parent.type.components)||i(e.appContext.components)}return s?Ll(s):n?"App":"Anonymous"}function Ur(e){return V(e)&&"__vccOpts"in e}const Al=(e,t)=>Go(e,t,qt),Fl=Symbol.for("v-scx"),Ul=()=>{{const e=fn(Fl);return e||{}.NODE_ENV!=="production"&&y("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function Qn(e){return!!(e&&e.__v_isShallow)}function Hl(){if({}.NODE_ENV==="production"||typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#0b1bc9"},n={style:"color:#b62e24"},s={style:"color:#9d288c"},i={header(d){return K(d)?d.__isVue?["div",e,"VueInstance"]:G(d)?["div",{},["span",e,h(d)],"<",c(d.value),">"]:ot(d)?["div",{},["span",e,Qn(d)?"ShallowReactive":"Reactive"],"<",c(d),`>${ht(d)?" (readonly)":""}`]:ht(d)?["div",{},["span",e,Qn(d)?"ShallowReadonly":"Readonly"],"<",c(d),">"]:null:null},hasBody(d){return d&&d.__isVue},body(d){if(d&&d.__isVue)return["div",{},...r(d.$)]}};function r(d){const b=[];d.type.props&&d.props&&b.push(o("props",j(d.props))),d.setupState!==B&&b.push(o("setup",d.setupState)),d.data!==B&&b.push(o("data",j(d.data)));const O=u(d,"computed");O&&b.push(o("computed",O));const x=u(d,"inject");return x&&b.push(o("injected",x)),b.push(["div",{},["span",{style:s.style+";opacity:0.66"},"$ (internal): "],["object",{object:d}]]),b}function o(d,b){return b=J({},b),Object.keys(b).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},d],["div",{style:"padding-left:1.25em"},...Object.keys(b).map(O=>["div",{},["span",s,O+": "],c(b[O],!1)])]]:["span",{}]}function c(d,b=!0){return typeof d=="number"?["span",t,d]:typeof d=="string"?["span",n,JSON.stringify(d)]:typeof d=="boolean"?["span",s,d]:K(d)?["object",{object:b?j(d):d}]:["span",n,String(d)]}function u(d,b){const O=d.type;if(V(O))return;const x={};for(const D in d.ctx)f(O,D,b)&&(x[D]=d.ctx[D]);return x}function f(d,b,O){const x=d[O];if(P(x)&&x.includes(b)||K(x)&&b in x||d.extends&&f(d.extends,b,O)||d.mixins&&d.mixins.some(D=>f(D,b,O)))return!0}function h(d){return Qn(d)?"ShallowRef":d.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}const Ti="3.3.4",Bl="http://www.w3.org/2000/svg",nt=typeof document<"u"?document:null,xi=nt&&nt.createElement("template"),Wl={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t?nt.createElementNS(Bl,e):nt.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>nt.createTextNode(e),createComment:e=>nt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>nt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{xi.innerHTML=s?`<svg>${e}</svg>`:e;const c=xi.content;if(s){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}t.insertBefore(c,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function zl(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Kl(e,t,n){const s=e.style,i=X(n);if(n&&!i){if(t&&!X(t))for(const r in t)n[r]==null&&Ns(s,r,"");for(const r in n)Ns(s,r,n[r])}else{const r=s.display;i?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=r)}}const ql=/[^\\];\s*$/,Si=/\s*!important$/;function Ns(e,t,n){if(P(n))n.forEach(s=>Ns(e,t,s));else if(n==null&&(n=""),{}.NODE_ENV!=="production"&&ql.test(n)&&y(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const s=Jl(e,t);Si.test(n)?e.setProperty(Me(s),n.replace(Si,""),"important"):e[s]=n}}const Di=["Webkit","Moz","ms"],Gn={};function Jl(e,t){const n=Gn[t];if(n)return n;let s=Ce(t);if(s!=="filter"&&s in e)return Gn[t]=s;s=dt(s);for(let i=0;i<Di.length;i++){const r=Di[i]+s;if(r in e)return Gn[t]=r}return t}const Ci="http://www.w3.org/1999/xlink";function Yl(e,t,n,s,i){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ci,t.slice(6,t.length)):e.setAttributeNS(Ci,t,n);else{const r=mo(t);n==null||r&&!Wi(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function Xl(e,t,n,s,i,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,i,r),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const f=c==="OPTION"?e.getAttribute("value"):e.value,h=n??"";f!==h&&(e.value=h),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=Wi(n):n==null&&f==="string"?(n="",u=!0):f==="number"&&(n=0,u=!0)}try{e[t]=n}catch(f){({}).NODE_ENV!=="production"&&!u&&y(`Failed setting prop "${t}" on <${c.toLowerCase()}>: value ${n} is invalid.`,f)}u&&e.removeAttribute(t)}function wt(e,t,n,s){e.addEventListener(t,n,s)}function Zl(e,t,n,s){e.removeEventListener(t,n,s)}function Ql(e,t,n,s,i=null){const r=e._vei||(e._vei={}),o=r[t];if(s&&o)o.value=s;else{const[c,u]=Gl(t);if(s){const f=r[t]=nu(s,i);wt(e,c,f,u)}else o&&(Zl(e,c,o,u),r[t]=void 0)}}const Pi=/(?:Once|Passive|Capture)$/;function Gl(e){let t;if(Pi.test(e)){t={};let s;for(;s=e.match(Pi);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Me(e.slice(2)),t]}let es=0;const eu=Promise.resolve(),tu=()=>es||(eu.then(()=>es=0),es=Date.now());function nu(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ve(su(s,n.value),t,5,[s])};return n.value=e,n.attached=tu(),n}function su(e,t){if(P(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const Vi=/^on[a-z]/,iu=(e,t,n,s,i=!1,r,o,c,u)=>{t==="class"?zl(e,s,i):t==="style"?Kl(e,n,s):Jt(t)?mn(t)||Ql(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ru(e,t,s,i))?Xl(e,t,s,r,o,c,u):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Yl(e,t,s,i))};function ru(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&Vi.test(t)&&V(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Vi.test(t)&&X(n)?!1:t in e}const Ri=e=>{const t=e.props["onUpdate:modelValue"]||!1;return P(t)?n=>yt(t,n):t};function ou(e){e.target.composing=!0}function ki(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const cu={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e._assign=Ri(i);const r=s||i.props&&i.props.type==="number";wt(e,t?"change":"input",o=>{if(o.target.composing)return;let c=e.value;n&&(c=c.trim()),r&&(c=ts(c)),e._assign(c)}),n&&wt(e,"change",()=>{e.value=e.value.trim()}),t||(wt(e,"compositionstart",ou),wt(e,"compositionend",ki),wt(e,"change",ki))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:i}},r){if(e._assign=Ri(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(i||e.type==="number")&&ts(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},lu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},uu=(e,t)=>n=>{if(!("key"in n))return;const s=Me(n.key);if(t.some(i=>i===s||lu[i]===s))return e(n)},au=J({patchProp:iu},Wl);let Ii;function fu(){return Ii||(Ii=bl(au))}const du=(...e)=>{const t=fu().createApp(...e);({}).NODE_ENV!=="production"&&(hu(t),pu(t));const{mount:n}=t;return t.mount=s=>{const i=_u(s);if(!i)return;const r=t._component;!V(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function hu(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>ho(t)||po(t),writable:!1})}function pu(e){if(Ar()){const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){y("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,s='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get(){return y(s),n},set(){y(s)}})}}function _u(e){if(X(e)){const t=document.querySelector(e);return{}.NODE_ENV!=="production"&&!t&&y(`Failed to mount app: mount target selector "${e}" returned null.`),t}return{}.NODE_ENV!=="production"&&window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&y('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}function mu(){Hl()}({}).NODE_ENV!=="production"&&mu();const Ks=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},gu={props:{thread:Number},data(){return{message:""}},methods:{sendMessage(){this.centrifuge.rpc("thread:publish",{id:this.thread,message:this.message,authToken:this.authToken}).then(()=>{this.message=""})}}},bu={class:"border-t-2 border-gray-200 px-4 pt-4 mb-2 sm:mb-0"},Eu={class:"relative flex"},vu={key:0,class:"absolute right-0 items-center inset-y-0 hidden sm:flex"},yu=de("span",{class:"font-bold"},"Send",-1),Nu=[yu];function wu(e,t,n,s,i,r){return Dt(),Kt("div",bu,[de("div",Eu,[Rc(de("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.message=o),type:"text",onKeyup:t[1]||(t[1]=uu((...o)=>r.sendMessage&&r.sendMessage(...o),["enter"])),placeholder:"Write your message!",class:"w-full focus:outline-none focus:placeholder-gray-400 text-gray-600 placeholder-gray-600 pl-6 bg-gray-200 rounded-md py-3"},null,544),[[cu,i.message]]),i.message.length>1?(Dt(),Kt("div",vu,[de("button",{type:"button",onClick:t[2]||(t[2]=(...o)=>r.sendMessage&&r.sendMessage(...o)),class:"inline-flex items-center justify-center rounded-lg px-4 py-3 transition duration-500 ease-in-out text-white bg-blue-500 hover:bg-blue-400 focus:outline-none"},Nu)])):Sl("",!0)])])}const Ou=Ks(gu,[["render",wu]]),Tu={props:{message:Object},computed:{isOwnMessage(){return this.message.username===this.user.username}}},xu={class:"chat-message"},Su={class:"flex flex-col space-y-2 text-xs mx-2 order-2 items-start"};function Du(e,t,n,s,i,r){return Dt(),Kt("div",xu,[de("div",{class:Ut(["flex items-end",{"justify-end":r.isOwnMessage}])},[de("div",Su,[de("div",null,[de("span",{class:Ut(["px-4 py-2 rounded-lg inline-block rounded-bl-none",{"bg-blue-600 text-white":r.isOwnMessage,"bg-gray-300 text-gray-600":!r.isOwnMessage}])},ns(n.message.message),3)]),de("span",null,ns(n.message.username),1)])],2)])}const Cu=Ks(Tu,[["render",Du]]);function ji(e){return new Promise(t=>setTimeout(t,e))}const Pu={components:{Message:Cu,MessageForm:Ou},props:{thread:Number},mounted(){this.centrifuge.rpc("thread:history",{id:this.thread,authToken:this.authToken}).then(e=>{this.messages=e.data.messages,ji(10).then(()=>this.scrollToBottom())}),this.centrifuge.on("publication",e=>{e.channel!=="chat"||e.data.type!=="message"||e.data.thread.id!==this.thread||(this.messages.push(e.data.message),ji(10).then(()=>this.scrollToBottom()))})},methods:{scrollToBottom(){this.$refs.messages.scrollTop=this.$refs.messages.scrollHeight}},data(){return{messages:[]}}};function Vu(e,t,n,s,i,r){const o=zc("MessageForm");return Dt(),Kt(ge,null,[de("div",{id:"messages",ref:"messages",class:"flex flex-col space-y-4 p-3 overflow-y-auto scrollbar-thumb-blue scrollbar-thumb-rounded scrollbar-track-blue-lighter scrollbar-w-2 scrolling-touch"},ns(i.messages),513),ye(o,{thread:n.thread},null,8,["thread"])],64)}const Ru=Ks(Pu,[["render",Vu]]),ku={class:"flex-1 p:2 sm:p-6 justify-between flex flex-col h-screen"},Iu={__name:"App",setup(e){return(t,n)=>(Dt(),Kt("div",ku,[ye(Ru,{thread:1})]))}};function ju(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qs={exports:{}},St=typeof Reflect=="object"?Reflect:null,Mi=St&&typeof St.apply=="function"?St.apply:function(t,n,s){return Function.prototype.apply.call(t,n,s)},_n;St&&typeof St.ownKeys=="function"?_n=St.ownKeys:Object.getOwnPropertySymbols?_n=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:_n=function(t){return Object.getOwnPropertyNames(t)};function Mu(e){console&&console.warn&&console.warn(e)}var Hr=Number.isNaN||function(t){return t!==t};function W(){W.init.call(this)}qs.exports=W;qs.exports.once=Fu;W.EventEmitter=W;W.prototype._events=void 0;W.prototype._eventsCount=0;W.prototype._maxListeners=void 0;var $i=10;function Hn(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(W,"defaultMaxListeners",{enumerable:!0,get:function(){return $i},set:function(e){if(typeof e!="number"||e<0||Hr(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");$i=e}});W.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};W.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Hr(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Br(e){return e._maxListeners===void 0?W.defaultMaxListeners:e._maxListeners}W.prototype.getMaxListeners=function(){return Br(this)};W.prototype.emit=function(t){for(var n=[],s=1;s<arguments.length;s++)n.push(arguments[s]);var i=t==="error",r=this._events;if(r!==void 0)i=i&&r.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var c=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw c.context=o,c}var u=r[t];if(u===void 0)return!1;if(typeof u=="function")Mi(u,this,n);else for(var f=u.length,h=Jr(u,f),s=0;s<f;++s)Mi(h[s],this,n);return!0};function Wr(e,t,n,s){var i,r,o;if(Hn(n),r=e._events,r===void 0?(r=e._events=Object.create(null),e._eventsCount=0):(r.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),o=r[t]),o===void 0)o=r[t]=n,++e._eventsCount;else if(typeof o=="function"?o=r[t]=s?[n,o]:[o,n]:s?o.unshift(n):o.push(n),i=Br(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,Mu(c)}return e}W.prototype.addListener=function(t,n){return Wr(this,t,n,!1)};W.prototype.on=W.prototype.addListener;W.prototype.prependListener=function(t,n){return Wr(this,t,n,!0)};function $u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function zr(e,t,n){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=$u.bind(s);return i.listener=n,s.wrapFn=i,i}W.prototype.once=function(t,n){return Hn(n),this.on(t,zr(this,t,n)),this};W.prototype.prependOnceListener=function(t,n){return Hn(n),this.prependListener(t,zr(this,t,n)),this};W.prototype.removeListener=function(t,n){var s,i,r,o,c;if(Hn(n),i=this._events,i===void 0)return this;if(s=i[t],s===void 0)return this;if(s===n||s.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,s.listener||n));else if(typeof s!="function"){for(r=-1,o=s.length-1;o>=0;o--)if(s[o]===n||s[o].listener===n){c=s[o].listener,r=o;break}if(r<0)return this;r===0?s.shift():Lu(s,r),s.length===1&&(i[t]=s[0]),i.removeListener!==void 0&&this.emit("removeListener",t,c||n)}return this};W.prototype.off=W.prototype.removeListener;W.prototype.removeAllListeners=function(t){var n,s,i;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[t]),this;if(arguments.length===0){var r=Object.keys(s),o;for(i=0;i<r.length;++i)o=r[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=s[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function Kr(e,t,n){var s=e._events;if(s===void 0)return[];var i=s[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?Au(i):Jr(i,i.length)}W.prototype.listeners=function(t){return Kr(this,t,!0)};W.prototype.rawListeners=function(t){return Kr(this,t,!1)};W.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):qr.call(e,t)};W.prototype.listenerCount=qr;function qr(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}W.prototype.eventNames=function(){return this._eventsCount>0?_n(this._events):[]};function Jr(e,t){for(var n=new Array(t),s=0;s<t;++s)n[s]=e[s];return n}function Lu(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Au(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function Fu(e,t){return new Promise(function(n,s){function i(o){e.removeListener(t,r),s(o)}function r(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}Yr(e,t,r,{once:!0}),t!=="error"&&Uu(e,i,{once:!0})})}function Uu(e,t,n){typeof e.on=="function"&&Yr(e,"error",t,n)}function Yr(e,t,n,s){if(typeof e.on=="function")s.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(r){s.once&&e.removeEventListener(t,i),n(r)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Hu=qs.exports,Xr=ju(Hu),q;(function(e){e[e.timeout=1]="timeout",e[e.transportClosed=2]="transportClosed",e[e.clientDisconnected=3]="clientDisconnected",e[e.clientClosed=4]="clientClosed",e[e.clientConnectToken=5]="clientConnectToken",e[e.clientRefreshToken=6]="clientRefreshToken",e[e.subscriptionUnsubscribed=7]="subscriptionUnsubscribed",e[e.subscriptionSubscribeToken=8]="subscriptionSubscribeToken",e[e.subscriptionRefreshToken=9]="subscriptionRefreshToken",e[e.transportWriteError=10]="transportWriteError",e[e.connectionClosed=11]="connectionClosed",e[e.badConfiguration=12]="badConfiguration"})(q||(q={}));var qe;(function(e){e[e.connectCalled=0]="connectCalled",e[e.transportClosed=1]="transportClosed",e[e.noPing=2]="noPing",e[e.subscribeTimeout=3]="subscribeTimeout",e[e.unsubscribeError=4]="unsubscribeError"})(qe||(qe={}));var Ft;(function(e){e[e.disconnectCalled=0]="disconnectCalled",e[e.unauthorized=1]="unauthorized",e[e.badProtocol=2]="badProtocol",e[e.messageSizeLimit=3]="messageSizeLimit"})(Ft||(Ft={}));var Tn;(function(e){e[e.subscribeCalled=0]="subscribeCalled",e[e.transportClosed=1]="transportClosed"})(Tn||(Tn={}));var xn;(function(e){e[e.unsubscribeCalled=0]="unsubscribeCalled",e[e.unauthorized=1]="unauthorized",e[e.clientClosed=2]="clientClosed"})(xn||(xn={}));var Y;(function(e){e.Disconnected="disconnected",e.Connecting="connecting",e.Connected="connected"})(Y||(Y={}));var re;(function(e){e.Unsubscribed="unsubscribed",e.Subscribing="subscribing",e.Subscribed="subscribed"})(re||(re={}));function Bu(e,t){return e.lastIndexOf(t,0)===0}function Zr(e){return e==null?!1:typeof e=="function"}function Wu(e,t){if(globalThis.console){const n=globalThis.console[e];Zr(n)&&n.apply(globalThis.console,t)}}function zu(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Sn(e,t,n){e>31&&(e=31);const s=zu(0,Math.min(n,t*Math.pow(2,e)));return Math.min(n,t+s)}function Ku(e){return"error"in e&&e.error!==null}function Dn(e){return Math.min(e*1e3,2147483647)}class qu extends Xr{constructor(t,n,s){super(),this._resubscribeTimeout=null,this._refreshTimeout=null,this.channel=n,this.state=re.Unsubscribed,this._centrifuge=t,this._token="",this._getToken=null,this._data=null,this._getData=null,this._recover=!1,this._offset=null,this._epoch=null,this._recoverable=!1,this._positioned=!1,this._joinLeave=!1,this._minResubscribeDelay=500,this._maxResubscribeDelay=2e4,this._resubscribeTimeout=null,this._resubscribeAttempts=0,this._promises={},this._promiseId=0,this._inflight=!1,this._refreshTimeout=null,this._setOptions(s),this._centrifuge._debugEnabled?(this.on("state",i=>{this._centrifuge._debug("subscription state",n,i.oldState,"->",i.newState)}),this.on("error",i=>{this._centrifuge._debug("subscription error",n,i)})):this.on("error",function(){Function.prototype()})}ready(t){return this.state===re.Unsubscribed?Promise.reject({code:q.subscriptionUnsubscribed,message:this.state}):this.state===re.Subscribed?Promise.resolve():new Promise((n,s)=>{const i={resolve:n,reject:s};t&&(i.timeout=setTimeout(function(){s({code:q.timeout,message:"timeout"})},t)),this._promises[this._nextPromiseId()]=i})}subscribe(){this._isSubscribed()||(this._resubscribeAttempts=0,this._setSubscribing(Tn.subscribeCalled,"subscribe called"))}unsubscribe(){this._setUnsubscribed(xn.unsubscribeCalled,"unsubscribe called",!0)}publish(t){const n=this;return this._methodCall().then(function(){return n._centrifuge.publish(n.channel,t)})}presence(){const t=this;return this._methodCall().then(function(){return t._centrifuge.presence(t.channel)})}presenceStats(){const t=this;return this._methodCall().then(function(){return t._centrifuge.presenceStats(t.channel)})}history(t){const n=this;return this._methodCall().then(function(){return n._centrifuge.history(n.channel,t)})}_methodCall(){return this._isSubscribed()?Promise.resolve():this._isUnsubscribed()?Promise.reject({code:q.subscriptionUnsubscribed,message:this.state}):new Promise((t,n)=>{const s=setTimeout(function(){n({code:q.timeout,message:"timeout"})},this._centrifuge._config.timeout);this._promises[this._nextPromiseId()]={timeout:s,resolve:t,reject:n}})}_nextPromiseId(){return++this._promiseId}_needRecover(){return this._recover===!0}_isUnsubscribed(){return this.state===re.Unsubscribed}_isSubscribing(){return this.state===re.Subscribing}_isSubscribed(){return this.state===re.Subscribed}_setState(t){if(this.state!==t){const n=this.state;return this.state=t,this.emit("state",{newState:t,oldState:n,channel:this.channel}),!0}return!1}_usesToken(){return this._token!==""||this._getToken!==null}_clearSubscribingState(){this._resubscribeAttempts=0,this._clearResubscribeTimeout()}_clearSubscribedState(){this._clearRefreshTimeout()}_setSubscribed(t){if(!this._isSubscribing())return;this._clearSubscribingState(),t.recoverable&&(this._recover=!0,this._offset=t.offset||0,this._epoch=t.epoch||""),this._setState(re.Subscribed);const n=this._centrifuge._getSubscribeContext(this.channel,t);this.emit("subscribed",n),this._resolvePromises();const s=t.publications;if(s&&s.length>0)for(const i in s)s.hasOwnProperty(i)&&this._handlePublication(s[i]);t.expires===!0&&(this._refreshTimeout=setTimeout(()=>this._refresh(),Dn(t.ttl)))}_setSubscribing(t,n){this._isSubscribing()||(this._isSubscribed()&&this._clearSubscribedState(),this._setState(re.Subscribing)&&this.emit("subscribing",{channel:this.channel,code:t,reason:n}),this._subscribe(!1,!1))}_subscribe(t,n){if(this._centrifuge._debug("subscribing on",this.channel),this._centrifuge.state!==Y.Connected&&!t)return this._centrifuge._debug("delay subscribe on",this.channel,"till connected"),null;const s=this,i={channel:s.channel};return!this._usesToken()||this._token?s._getData?(s._getData(i).then(function(r){s._isSubscribing()&&(s._data=r,s._sendSubscribe(s._token,!1))}),null):s._sendSubscribe(s._token,n):(t||this._getSubscriptionToken().then(function(r){if(s._isSubscribing()){if(!r){s._failUnauthorized();return}s._token=r,s._getData?s._getData(i).then(function(o){s._isSubscribing()&&(s._data=o,s._sendSubscribe(r,!1))}):s._sendSubscribe(r,!1)}}).catch(function(r){if(s._isSubscribing()){if(r instanceof ft){s._failUnauthorized();return}s.emit("error",{type:"subscribeToken",channel:s.channel,error:{code:q.subscriptionSubscribeToken,message:r!==void 0?r.toString():""}}),s._scheduleResubscribe()}}),null)}_sendSubscribe(t,n){const i={channel:this.channel};if(t&&(i.token=t),this._data&&(i.data=this._data),this._positioned&&(i.positioned=!0),this._recoverable&&(i.recoverable=!0),this._joinLeave&&(i.join_leave=!0),this._needRecover()){i.recover=!0;const o=this._getOffset();o&&(i.offset=o);const c=this._getEpoch();c&&(i.epoch=c)}const r={subscribe:i};return this._inflight=!0,this._centrifuge._call(r,n).then(o=>{this._inflight=!1;const c=o.reply.subscribe;this._handleSubscribeResponse(c),o.next&&o.next()},o=>{this._inflight=!1,this._handleSubscribeError(o.error),o.next&&o.next()}),r}_handleSubscribeError(t){if(this._isSubscribing()){if(t.code===q.timeout){this._centrifuge._disconnect(qe.subscribeTimeout,"subscribe timeout",!0);return}this._subscribeError(t)}}_handleSubscribeResponse(t){this._isSubscribing()&&this._setSubscribed(t)}_setUnsubscribed(t,n,s){this._isUnsubscribed()||(this._isSubscribed()&&(s&&this._centrifuge._unsubscribe(this),this._clearSubscribedState()),this._isSubscribing()&&(this._inflight&&s&&this._centrifuge._unsubscribe(this),this._clearSubscribingState()),this._setState(re.Unsubscribed)&&this.emit("unsubscribed",{channel:this.channel,code:t,reason:n}),this._rejectPromises({code:q.subscriptionUnsubscribed,message:this.state}))}_handlePublication(t){const n=this._centrifuge._getPublicationContext(this.channel,t);this.emit("publication",n),t.offset&&(this._offset=t.offset)}_handleJoin(t){const n=this._centrifuge._getJoinLeaveContext(t.info);this.emit("join",{channel:this.channel,info:n})}_handleLeave(t){const n=this._centrifuge._getJoinLeaveContext(t.info);this.emit("leave",{channel:this.channel,info:n})}_resolvePromises(){for(const t in this._promises)this._promises[t].timeout&&clearTimeout(this._promises[t].timeout),this._promises[t].resolve(),delete this._promises[t]}_rejectPromises(t){for(const n in this._promises)this._promises[n].timeout&&clearTimeout(this._promises[n].timeout),this._promises[n].reject(t),delete this._promises[n]}_scheduleResubscribe(){const t=this,n=this._getResubscribeDelay();this._resubscribeTimeout=setTimeout(function(){t._isSubscribing()&&t._subscribe(!1,!1)},n)}_subscribeError(t){if(this._isSubscribing())if(t.code<100||t.code===109||t.temporary===!0){t.code===109&&(this._token="");const n={channel:this.channel,type:"subscribe",error:t};this._centrifuge.state===Y.Connected&&this.emit("error",n),this._scheduleResubscribe()}else this._setUnsubscribed(t.code,t.message,!1)}_getResubscribeDelay(){const t=Sn(this._resubscribeAttempts,this._minResubscribeDelay,this._maxResubscribeDelay);return this._resubscribeAttempts++,t}_setOptions(t){t&&(t.since&&(this._offset=t.since.offset,this._epoch=t.since.epoch,this._recover=!0),t.data&&(this._data=t.data),t.getData&&(this._getData=t.getData),t.minResubscribeDelay!==void 0&&(this._minResubscribeDelay=t.minResubscribeDelay),t.maxResubscribeDelay!==void 0&&(this._maxResubscribeDelay=t.maxResubscribeDelay),t.token&&(this._token=t.token),t.getToken&&(this._getToken=t.getToken),t.positioned===!0&&(this._positioned=!0),t.recoverable===!0&&(this._recoverable=!0),t.joinLeave===!0&&(this._joinLeave=!0))}_getOffset(){const t=this._offset;return t!==null?t:0}_getEpoch(){const t=this._epoch;return t!==null?t:""}_clearRefreshTimeout(){this._refreshTimeout!==null&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null)}_clearResubscribeTimeout(){this._resubscribeTimeout!==null&&(clearTimeout(this._resubscribeTimeout),this._resubscribeTimeout=null)}_getSubscriptionToken(){this._centrifuge._debug("get subscription token for channel",this.channel);const t={channel:this.channel},n=this._getToken;if(n===null)throw this.emit("error",{type:"configuration",channel:this.channel,error:{code:q.badConfiguration,message:"provide a function to get channel subscription token"}}),new ft("");return n(t)}_refresh(){this._clearRefreshTimeout();const t=this;this._getSubscriptionToken().then(function(n){if(!t._isSubscribed())return;if(!n){t._failUnauthorized();return}t._token=n;const i={sub_refresh:{channel:t.channel,token:n}};t._centrifuge._call(i).then(r=>{const o=r.reply.sub_refresh;t._refreshResponse(o),r.next&&r.next()},r=>{t._refreshError(r.error),r.next&&r.next()})}).catch(function(n){if(n instanceof ft){t._failUnauthorized();return}t.emit("error",{type:"refreshToken",channel:t.channel,error:{code:q.subscriptionRefreshToken,message:n!==void 0?n.toString():""}}),t._refreshTimeout=setTimeout(()=>t._refresh(),t._getRefreshRetryDelay())})}_refreshResponse(t){this._isSubscribed()&&(this._centrifuge._debug("subscription token refreshed, channel",this.channel),this._clearRefreshTimeout(),t.expires===!0&&(this._refreshTimeout=setTimeout(()=>this._refresh(),Dn(t.ttl))))}_refreshError(t){this._isSubscribed()&&(t.code<100||t.temporary===!0?(this.emit("error",{type:"refresh",channel:this.channel,error:t}),this._refreshTimeout=setTimeout(()=>this._refresh(),this._getRefreshRetryDelay())):this._setUnsubscribed(t.code,t.message,!0))}_getRefreshRetryDelay(){return Sn(0,1e4,2e4)}_failUnauthorized(){this._setUnsubscribed(xn.unauthorized,"unauthorized",!0)}}class Ju{constructor(t,n){this.endpoint=t,this.options=n,this._transport=null}name(){return"sockjs"}subName(){return"sockjs-"+this._transport.transport}emulation(){return!1}supported(){return this.options.sockjs!==null}initialize(t,n){this._transport=new this.options.sockjs(this.endpoint,null,this.options.sockjsOptions),this._transport.onopen=()=>{n.onOpen()},this._transport.onerror=s=>{n.onError(s)},this._transport.onclose=s=>{n.onClose(s)},this._transport.onmessage=s=>{n.onMessage(s.data)}}close(){this._transport.close()}send(t){this._transport.send(t)}}class Li{constructor(t,n){this.endpoint=t,this.options=n,this._transport=null}name(){return"websocket"}subName(){return"websocket"}emulation(){return!1}supported(){return this.options.websocket!==void 0&&this.options.websocket!==null}initialize(t,n){let s="";t==="protobuf"&&(s="centrifuge-protobuf"),s!==""?this._transport=new this.options.websocket(this.endpoint,s):this._transport=new this.options.websocket(this.endpoint),t==="protobuf"&&(this._transport.binaryType="arraybuffer"),this._transport.onopen=()=>{n.onOpen()},this._transport.onerror=i=>{n.onError(i)},this._transport.onclose=i=>{n.onClose(i)},this._transport.onmessage=i=>{n.onMessage(i.data)}}close(){this._transport.close()}send(t){this._transport.send(t)}}class Yu{constructor(t,n){this.endpoint=t,this.options=n,this._abortController=null,this._utf8decoder=new TextDecoder,this._protocol="json"}name(){return"http_stream"}subName(){return"http_stream"}emulation(){return!0}_handleErrors(t){if(!t.ok)throw new Error(t.status);return t}_fetchEventTarget(t,n,s){const i=new EventTarget,r=t.options.fetch;return r(n,s).then(t._handleErrors).then(o=>{i.dispatchEvent(new Event("open"));let c="",u=0,f=new Uint8Array;const h=o.body.getReader();return new t.options.readableStream({start(d){function b(){return h.read().then(({done:O,value:x})=>{if(O){i.dispatchEvent(new Event("close")),d.close();return}try{if(t._protocol==="json")for(c+=t._utf8decoder.decode(x);u<c.length;)if(c[u]===`
`){const D=c.substring(0,u);i.dispatchEvent(new MessageEvent("message",{data:D})),c=c.substring(u+1),u=0}else++u;else{const D=new Uint8Array(f.length+x.length);for(D.set(f),D.set(x,f.length),f=D;;){const I=t.options.decoder.decodeReply(f);if(I.ok){const M=f.slice(0,I.pos);i.dispatchEvent(new MessageEvent("message",{data:M})),f=f.slice(I.pos);continue}break}}}catch(D){i.dispatchEvent(new Event("error",{detail:D})),i.dispatchEvent(new Event("close")),d.close();return}b()}).catch(function(O){i.dispatchEvent(new Event("error",{detail:O})),i.dispatchEvent(new Event("close")),d.close()})}return b()}})}).catch(o=>{i.dispatchEvent(new Event("error",{detail:o})),i.dispatchEvent(new Event("close"))}),i}supported(){return this.options.fetch!==null&&this.options.readableStream!==null&&typeof TextDecoder<"u"&&typeof AbortController<"u"&&typeof EventTarget<"u"&&typeof Event<"u"&&typeof MessageEvent<"u"&&typeof Error<"u"}initialize(t,n,s){this._protocol=t,this._abortController=new AbortController;let i,r;t==="json"?(i={Accept:"application/json","Content-Type":"application/json"},r=s):(i={Accept:"application/octet-stream","Content-Type":"application/octet-stream"},r=s);const o={method:"POST",headers:i,body:r,mode:"cors",credentials:"same-origin",cache:"no-cache",signal:this._abortController.signal},c=this._fetchEventTarget(this,this.endpoint,o);c.addEventListener("open",()=>{n.onOpen()}),c.addEventListener("error",u=>{this._abortController.abort(),n.onError(u)}),c.addEventListener("close",()=>{this._abortController.abort(),n.onClose({code:4,reason:"connection closed"})}),c.addEventListener("message",u=>{n.onMessage(u.data)})}close(){this._abortController.abort()}send(t,n,s){let i,r;const o={session:n,node:s,data:t};this._protocol==="json"?(i={"Content-Type":"application/json"},r=JSON.stringify(o)):(i={"Content-Type":"application/octet-stream"},r=this.options.encoder.encodeEmulationRequest(o));const c=this.options.fetch,u={method:"POST",headers:i,body:r,mode:"cors",credentials:"same-origin",cache:"no-cache"};c(this.options.emulationEndpoint,u)}}class Xu{constructor(t,n){this.endpoint=t,this.options=n,this._protocol="json",this._transport=null,this._onClose=null}name(){return"sse"}subName(){return"sse"}emulation(){return!0}supported(){return this.options.eventsource!==null&&this.options.fetch!==null}initialize(t,n,s){let i;globalThis&&globalThis.document&&globalThis.document.baseURI?i=new URL(this.endpoint,globalThis.document.baseURI):i=new URL(this.endpoint),i.searchParams.append("cf_connect",s);const r={},o=new this.options.eventsource(i.toString(),r);this._transport=o;const c=this;o.onopen=function(){n.onOpen()},o.onerror=function(u){o.close(),n.onError(u),n.onClose({code:4,reason:"connection closed"})},o.onmessage=function(u){n.onMessage(u.data)},c._onClose=function(){n.onClose({code:4,reason:"connection closed"})}}close(){this._transport.close(),this._onClose!==null&&this._onClose()}send(t,n,s){const i={session:n,node:s,data:t},r={"Content-Type":"application/json"},o=JSON.stringify(i),c=this.options.fetch,u={method:"POST",headers:r,body:o,mode:"cors",credentials:"same-origin",cache:"no-cache"};c(this.options.emulationEndpoint,u)}}function on(e,t,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function c(h){try{f(s.next(h))}catch(d){o(d)}}function u(h){try{f(s.throw(h))}catch(d){o(d)}}function f(h){h.done?r(h.value):i(h.value).then(c,u)}f((s=s.apply(e,t||[])).next())})}class Zu{constructor(t,n){this.endpoint=t,this.options=n,this._transport=null,this._stream=null,this._writer=null,this._utf8decoder=new TextDecoder,this._protocol="json"}name(){return"webtransport"}subName(){return"webtransport"}emulation(){return!1}supported(){return this.options.webtransport!==void 0&&this.options.webtransport!==null}initialize(t,n){return on(this,void 0,void 0,function*(){let s;globalThis&&globalThis.document&&globalThis.document.baseURI?s=new URL(this.endpoint,globalThis.document.baseURI):s=new URL(this.endpoint),t==="protobuf"&&s.searchParams.append("cf_protocol","protobuf"),this._protocol=t;const i=new EventTarget;this._transport=new this.options.webtransport(s.toString()),this._transport.closed.then(()=>{n.onClose({code:4,reason:"connection closed"})}).catch(()=>{n.onClose({code:4,reason:"connection closed"})});try{yield this._transport.ready}catch{this.close();return}let r;try{r=yield this._transport.createBidirectionalStream()}catch{this.close();return}this._stream=r,this._writer=this._stream.writable.getWriter(),i.addEventListener("close",()=>{n.onClose({code:4,reason:"connection closed"})}),i.addEventListener("message",o=>{n.onMessage(o.data)}),this._startReading(i),n.onOpen()})}_startReading(t){return on(this,void 0,void 0,function*(){const n=this._stream.readable.getReader();let s="",i=0,r=new Uint8Array;try{for(;;){const{done:o,value:c}=yield n.read();if(c.length>0)if(this._protocol==="json")for(s+=this._utf8decoder.decode(c);i<s.length;)if(s[i]===`
`){const u=s.substring(0,i);t.dispatchEvent(new MessageEvent("message",{data:u})),s=s.substring(i+1),i=0}else++i;else{const u=new Uint8Array(r.length+c.length);for(u.set(r),u.set(c,r.length),r=u;;){const f=this.options.decoder.decodeReply(r);if(f.ok){const h=r.slice(0,f.pos);t.dispatchEvent(new MessageEvent("message",{data:h})),r=r.slice(f.pos);continue}break}}if(o)break}}catch{t.dispatchEvent(new Event("close"))}})}close(){return on(this,void 0,void 0,function*(){try{this._writer&&(yield this._writer.close()),this._transport.close()}catch{}})}send(t){return on(this,void 0,void 0,function*(){let n;this._protocol==="json"?n=new TextEncoder().encode(t+`
`):n=t;try{yield this._writer.write(n)}catch{this.close()}})}}class Ai{name(){return"json"}encodeCommands(t){return t.map(n=>JSON.stringify(n)).join(`
`)}decodeReplies(t){return t.trim().split(`
`).map(n=>JSON.parse(n))}}const Qu={token:"",getToken:null,data:null,getData:null,debug:!1,name:"js",version:"",fetch:null,readableStream:null,websocket:null,eventsource:null,sockjs:null,sockjsOptions:{},emulationEndpoint:"/emulation",minReconnectDelay:500,maxReconnectDelay:2e4,timeout:5e3,maxServerPingDelay:1e4,networkEventTarget:null};class ft extends Error{constructor(t){super(t),this.name=this.constructor.name}}class Bn extends Xr{constructor(t,n){super(),this._reconnectTimeout=null,this._refreshTimeout=null,this._serverPingTimeout=null,this.state=Y.Disconnected,this._endpoint=t,this._emulation=!1,this._transports=[],this._currentTransportIndex=0,this._triedAllTransports=!1,this._transportWasOpen=!1,this._transport=null,this._transportId=0,this._deviceWentOffline=!1,this._transportClosed=!0,this._codec=new Ai,this._reconnecting=!1,this._reconnectTimeout=null,this._reconnectAttempts=0,this._client=null,this._session="",this._node="",this._subs={},this._serverSubs={},this._commandId=0,this._commands=[],this._batching=!1,this._refreshRequired=!1,this._refreshTimeout=null,this._callbacks={},this._token="",this._data=null,this._dispatchPromise=Promise.resolve(),this._serverPing=0,this._serverPingTimeout=null,this._sendPong=!1,this._promises={},this._promiseId=0,this._debugEnabled=!1,this._networkEventsSet=!1,this._config=Object.assign(Object.assign({},Qu),n),this._configure(),this._debugEnabled?(this.on("state",s=>{this._debug("client state",s.oldState,"->",s.newState)}),this.on("error",s=>{this._debug("client error",s)})):this.on("error",function(){Function.prototype()})}newSubscription(t,n){if(this.getSubscription(t)!==null)throw new Error("Subscription to the channel "+t+" already exists");const s=new qu(this,t,n);return this._subs[t]=s,s}getSubscription(t){return this._getSub(t)}removeSubscription(t){t&&(t.state!==re.Unsubscribed&&t.unsubscribe(),this._removeSubscription(t))}subscriptions(){return this._subs}ready(t){return this.state===Y.Disconnected?Promise.reject({code:q.clientDisconnected,message:"client disconnected"}):this.state===Y.Connected?Promise.resolve():new Promise((n,s)=>{const i={resolve:n,reject:s};t&&(i.timeout=setTimeout(function(){s({code:q.timeout,message:"timeout"})},t)),this._promises[this._nextPromiseId()]=i})}connect(){if(this._isConnected()){this._debug("connect called when already connected");return}if(this._isConnecting()){this._debug("connect called when already connecting");return}this._debug("connect called"),this._reconnectAttempts=0,this._startConnecting()}disconnect(){this._disconnect(Ft.disconnectCalled,"disconnect called",!1)}setToken(t){this._token=t}send(t){const n={send:{data:t}},s=this;return this._methodCall().then(function(){return s._transportSendCommands([n])?Promise.resolve():Promise.reject(s._createErrorObject(q.transportWriteError,"transport write error"))})}rpc(t,n){const s={rpc:{method:t,data:n}},i=this;return this._methodCall().then(function(){return i._callPromise(s,function(r){return{data:r.rpc.data}})})}publish(t,n){const s={publish:{channel:t,data:n}},i=this;return this._methodCall().then(function(){return i._callPromise(s,function(){return{}})})}history(t,n){const s={history:this._getHistoryRequest(t,n)},i=this;return this._methodCall().then(function(){return i._callPromise(s,function(r){const o=r.history,c=[];if(o.publications)for(let u=0;u<o.publications.length;u++)c.push(i._getPublicationContext(t,o.publications[u]));return{publications:c,epoch:o.epoch||"",offset:o.offset||0}})})}presence(t){const n={presence:{channel:t}},s=this;return this._methodCall().then(function(){return s._callPromise(n,function(i){const r=i.presence.presence;for(const o in r)if(r.hasOwnProperty(o)){const c=r[o].conn_info,u=r[o].chan_info;c&&(r[o].connInfo=c),u&&(r[o].chanInfo=u)}return{clients:r}})})}presenceStats(t){const n={presence_stats:{channel:t}},s=this;return this._methodCall().then(function(){return s._callPromise(n,function(i){const r=i.presence_stats;return{numUsers:r.num_users,numClients:r.num_clients}})})}startBatching(){this._batching=!0}stopBatching(){const t=this;Promise.resolve().then(function(){Promise.resolve().then(function(){t._batching=!1,t._flush()})})}_debug(...t){this._debugEnabled&&Wu("debug",t)}_formatOverride(){}_configure(){if(!("Promise"in globalThis))throw new Error("Promise polyfill required");if(!this._endpoint)throw new Error("endpoint configuration required");if(this._config.token!==null&&(this._token=this._config.token),this._config.data!==null&&(this._data=this._config.data),this._codec=new Ai,this._formatOverride(),(this._config.debug===!0||typeof localStorage<"u"&&localStorage.getItem("centrifuge.debug"))&&(this._debugEnabled=!0),this._debug("config",this._config),typeof this._endpoint!="string")if(typeof this._endpoint=="object"&&this._endpoint instanceof Array){this._transports=this._endpoint,this._emulation=!0;for(const t in this._transports){const n=this._transports[t];if(!n.endpoint||!n.transport)throw new Error("malformed transport configuration");const s=n.transport;if(["websocket","http_stream","sse","sockjs","webtransport"].indexOf(s)<0)throw new Error("unsupported transport name: "+s)}}else throw new Error("unsupported url configuration type: only string or array of objects are supported")}_setState(t){if(this.state!==t){this._reconnecting=!1;const n=this.state;return this.state=t,this.emit("state",{newState:t,oldState:n}),!0}return!1}_isDisconnected(){return this.state===Y.Disconnected}_isConnecting(){return this.state===Y.Connecting}_isConnected(){return this.state===Y.Connected}_nextCommandId(){return++this._commandId}_setNetworkEvents(){if(this._networkEventsSet)return;let t=null;this._config.networkEventTarget!==null?t=this._config.networkEventTarget:typeof globalThis.addEventListener<"u"&&(t=globalThis),t&&(t.addEventListener("offline",()=>{this._debug("offline event triggered"),(this.state===Y.Connected||this.state===Y.Connecting)&&(this._disconnect(qe.transportClosed,"transport closed",!0),this._deviceWentOffline=!0)}),t.addEventListener("online",()=>{this._debug("online event triggered"),this.state===Y.Connecting&&(this._deviceWentOffline&&!this._transportClosed&&(this._deviceWentOffline=!1,this._transportClosed=!0),this._clearReconnectTimeout(),this._startReconnecting())}),this._networkEventsSet=!0)}_getReconnectDelay(){const t=Sn(this._reconnectAttempts,this._config.minReconnectDelay,this._config.maxReconnectDelay);return this._reconnectAttempts+=1,t}_clearOutgoingRequests(){for(const t in this._callbacks)if(this._callbacks.hasOwnProperty(t)){const n=this._callbacks[t];clearTimeout(n.timeout);const s=n.errback;if(!s)continue;s({error:this._createErrorObject(q.connectionClosed,"connection closed")})}this._callbacks={}}_clearConnectedState(){this._client=null,this._clearServerPingTimeout(),this._clearRefreshTimeout();for(const t in this._subs){if(!this._subs.hasOwnProperty(t))continue;const n=this._subs[t];n.state===re.Subscribed&&n._setSubscribing(Tn.transportClosed,"transport closed")}for(const t in this._serverSubs)this._serverSubs.hasOwnProperty(t)&&this.emit("subscribing",{channel:t})}_handleWriteError(t){for(const n of t){const s=n.id;if(!(s in this._callbacks))continue;const i=this._callbacks[s];clearTimeout(this._callbacks[s].timeout),delete this._callbacks[s];const r=i.errback;r({error:this._createErrorObject(q.transportWriteError,"transport write error")})}}_transportSendCommands(t){if(!t.length)return!0;if(!this._transport)return!1;try{this._transport.send(this._codec.encodeCommands(t),this._session,this._node)}catch(n){return this._debug("error writing commands",n),this._handleWriteError(t),!1}return!0}_initializeTransport(){let t;this._config.websocket!==null?t=this._config.websocket:typeof globalThis.WebSocket!="function"&&typeof globalThis.WebSocket!="object"||(t=globalThis.WebSocket);let n=null;this._config.sockjs!==null?n=this._config.sockjs:typeof globalThis.SockJS<"u"&&(n=globalThis.SockJS);let s=null;this._config.eventsource!==null?s=this._config.eventsource:typeof globalThis.EventSource<"u"&&(s=globalThis.EventSource);let i=null;this._config.fetch!==null?i=this._config.fetch:typeof globalThis.fetch<"u"&&(i=globalThis.fetch);let r=null;if(this._config.readableStream!==null?r=this._config.readableStream:typeof globalThis.ReadableStream<"u"&&(r=globalThis.ReadableStream),this._emulation){this._currentTransportIndex>=this._transports.length&&(this._triedAllTransports=!0,this._currentTransportIndex=0);let x=0;for(;;){if(x>=this._transports.length)throw new Error("no supported transport found");const D=this._transports[this._currentTransportIndex],I=D.transport,M=D.endpoint;if(I==="websocket"){if(this._debug("trying websocket transport"),this._transport=new Li(M,{websocket:t}),!this._transport.supported()){this._debug("websocket transport not available"),this._currentTransportIndex++,x++;continue}}else if(I==="webtransport"){if(this._debug("trying webtransport transport"),this._transport=new Zu(M,{webtransport:globalThis.WebTransport,decoder:this._codec,encoder:this._codec}),!this._transport.supported()){this._debug("webtransport transport not available"),this._currentTransportIndex++,x++;continue}}else if(I==="http_stream"){if(this._debug("trying http_stream transport"),this._transport=new Yu(M,{fetch:i,readableStream:r,emulationEndpoint:this._config.emulationEndpoint,decoder:this._codec,encoder:this._codec}),!this._transport.supported()){this._debug("http_stream transport not available"),this._currentTransportIndex++,x++;continue}}else if(I==="sse"){if(this._debug("trying sse transport"),this._transport=new Xu(M,{eventsource:s,fetch:i,emulationEndpoint:this._config.emulationEndpoint}),!this._transport.supported()){this._debug("sse transport not available"),this._currentTransportIndex++,x++;continue}}else if(I==="sockjs"){if(this._debug("trying sockjs"),this._transport=new Ju(M,{sockjs:n,sockjsOptions:this._config.sockjsOptions}),!this._transport.supported()){this._debug("sockjs transport not available"),this._currentTransportIndex++,x++;continue}}else throw new Error("unknown transport "+I);break}}else{if(Bu(this._endpoint,"http"))throw new Error("Provide explicit transport endpoints configuration in case of using HTTP (i.e. using array of TransportEndpoint instead of a single string), or use ws(s):// scheme in an endpoint if you aimed using WebSocket transport");if(this._debug("client will use websocket"),this._transport=new Li(this._endpoint,{websocket:t}),!this._transport.supported())throw new Error("WebSocket not available")}const o=this,c=this._transport,u=this._nextTransportId();o._debug("id of transport",u);let f=!1,h=!0;this._transport.name()==="sse"&&(h=!1);const d=[];if(this._transport.emulation()){const x=o._sendConnect(!0);if(d.push(x),h){const D=o._sendSubscribeCommands(!0,!0);for(const I in D)d.push(D[I])}}this._setNetworkEvents();const b=this._codec.encodeCommands(d);this._transportClosed=!1;let O;O=setTimeout(function(){c.close()},this._config.timeout),this._transport.initialize(this._codec.name(),{onOpen:function(){if(O&&(clearTimeout(O),O=null),o._transportId!=u){o._debug("open callback from non-actual transport"),c.close();return}f=!0,o._debug(c.subName(),"transport open"),o._transportWasOpen=!0,!c.emulation()&&(o.startBatching(),o._sendConnect(!1),h&&o._sendSubscribeCommands(!0,!1),o.stopBatching())},onError:function(x){if(o._transportId!=u){o._debug("error callback from non-actual transport");return}o._debug("transport level error",x)},onClose:function(x){if(O&&(clearTimeout(O),O=null),o._transportId!=u){o._debug("close callback from non-actual transport");return}o._debug(c.subName(),"transport closed"),o._transportClosed=!0;let D="connection closed",I=!0,M=0;if(x&&"code"in x&&x.code&&(M=x.code),x&&x.reason)try{const ce=JSON.parse(x.reason);D=ce.reason,I=ce.reconnect}catch{D=x.reason,(M>=3500&&M<4e3||M>=4500&&M<5e3)&&(I=!1)}M<3e3?(M===1009?(M=Ft.messageSizeLimit,D="message size limit exceeded",I=!1):(M=qe.transportClosed,D="transport closed"),o._emulation&&!o._transportWasOpen&&(o._currentTransportIndex++,o._currentTransportIndex>=o._transports.length&&(o._triedAllTransports=!0,o._currentTransportIndex=0))):o._transportWasOpen=!0,o._isConnecting()&&!f&&o.emit("error",{type:"transport",error:{code:q.transportClosed,message:"transport closed"},transport:c.name()}),o._reconnecting=!1,o._disconnect(M,D,I)},onMessage:function(x){o._dataReceived(x)}},b)}_sendConnect(t){const n=this._constructConnectCommand(),s=this;return this._call(n,t).then(i=>{const r=i.reply.connect;s._connectResponse(r),i.next&&i.next()},i=>{s._connectError(i.error),i.next&&i.next()}),n}_startReconnecting(){if(this._debug("start reconnecting"),!this._isConnecting()){this._debug("stop reconnecting: client not in connecting state");return}if(this._reconnecting){this._debug("reconnect already in progress, return from reconnect routine");return}if(this._transportClosed===!1){this._debug("waiting for transport close");return}this._reconnecting=!0;const t=this,n=this._token==="";if(!(this._refreshRequired||n&&this._config.getToken!==null)){this._config.getData?this._config.getData().then(function(i){t._isConnecting()&&(t._data=i,t._initializeTransport())}):this._initializeTransport();return}this._getToken().then(function(i){if(t._isConnecting()){if(i==null||i==null){t._failUnauthorized();return}t._token=i,t._debug("connection token refreshed"),t._config.getData?t._config.getData().then(function(r){t._isConnecting()&&(t._data=r,t._initializeTransport())}):t._initializeTransport()}}).catch(function(i){if(!t._isConnecting())return;if(i instanceof ft){t._failUnauthorized();return}t.emit("error",{type:"connectToken",error:{code:q.clientConnectToken,message:i!==void 0?i.toString():""}});const r=t._getReconnectDelay();t._debug("error on connection token refresh, reconnect after "+r+" milliseconds",i),t._reconnecting=!1,t._reconnectTimeout=setTimeout(()=>{t._startReconnecting()},r)})}_connectError(t){this.state===Y.Connecting&&(t.code===109&&(this._refreshRequired=!0),t.code<100||t.temporary===!0||t.code===109?(this.emit("error",{type:"connect",error:t}),this._debug("closing transport due to connect error"),this._reconnecting=!1,this._disconnect(t.code,t.message,!0)):this._disconnect(t.code,t.message,!1))}_scheduleReconnect(){if(!this._isConnecting())return;let t=!1;this._emulation&&!this._transportWasOpen&&!this._triedAllTransports&&(t=!0);let n=this._getReconnectDelay();t&&(n=0),this._debug("reconnect after "+n+" milliseconds"),this._reconnectTimeout=setTimeout(()=>{this._startReconnecting()},n)}_constructConnectCommand(){const t={};this._token&&(t.token=this._token),this._data&&(t.data=this._data),this._config.name&&(t.name=this._config.name),this._config.version&&(t.version=this._config.version);const n={};let s=!1;for(const i in this._serverSubs)if(this._serverSubs.hasOwnProperty(i)&&this._serverSubs[i].recoverable){s=!0;const r={recover:!0};this._serverSubs[i].offset&&(r.offset=this._serverSubs[i].offset),this._serverSubs[i].epoch&&(r.epoch=this._serverSubs[i].epoch),n[i]=r}return s&&(t.subs=n),{connect:t}}_getHistoryRequest(t,n){const s={channel:t};return n!==void 0&&(n.since&&(s.since={offset:n.since.offset},n.since.epoch&&(s.since.epoch=n.since.epoch)),n.limit!==void 0&&(s.limit=n.limit),n.reverse===!0&&(s.reverse=!0)),s}_methodCall(){return this._isConnected()?Promise.resolve():new Promise((t,n)=>{const s=setTimeout(function(){n({code:q.timeout,message:"timeout"})},this._config.timeout);this._promises[this._nextPromiseId()]={timeout:s,resolve:t,reject:n}})}_callPromise(t,n){return new Promise((s,i)=>{this._call(t,!1).then(r=>{s(n(r.reply)),r.next&&r.next()},r=>{i(r.error),r.next&&r.next()})})}_dataReceived(t){this._serverPing>0&&this._waitServerPing();const n=this._codec.decodeReplies(t);this._dispatchPromise=this._dispatchPromise.then(()=>{let s;this._dispatchPromise=new Promise(i=>{s=i}),this._dispatchSynchronized(n,s)})}_dispatchSynchronized(t,n){let s=Promise.resolve();for(const i in t)t.hasOwnProperty(i)&&(s=s.then(()=>this._dispatchReply(t[i])));s=s.then(()=>{n()})}_dispatchReply(t){let n;const s=new Promise(r=>{n=r});if(t==null)return this._debug("dispatch: got undefined or null reply"),n(),s;const i=t.id;return i&&i>0?this._handleReply(t,n):t.push?this._handlePush(t.push,n):this._handleServerPing(n),s}_call(t,n){return new Promise((s,i)=>{t.id=this._nextCommandId(),this._registerCall(t.id,s,i),n||this._addCommand(t)})}_startConnecting(){this._debug("start connecting"),this._setState(Y.Connecting)&&this.emit("connecting",{code:qe.connectCalled,reason:"connect called"}),this._client=null,this._startReconnecting()}_disconnect(t,n,s){if(this._isDisconnected())return;const i=this.state,r={code:t,reason:n};let o=!1;if(s?o=this._setState(Y.Connecting):(o=this._setState(Y.Disconnected),this._rejectPromises({code:q.clientDisconnected,message:"disconnected"})),this._clearOutgoingRequests(),i===Y.Connecting&&this._clearReconnectTimeout(),i===Y.Connected&&this._clearConnectedState(),o&&(this._isConnecting()?this.emit("connecting",r):this.emit("disconnected",r)),this._transport){this._debug("closing existing transport");const c=this._transport;this._transport=null,c.close(),this._transportClosed=!0,this._nextTransportId()}else this._debug("no transport to close");this._scheduleReconnect()}_failUnauthorized(){this._disconnect(Ft.unauthorized,"unauthorized",!1)}_getToken(){if(this._debug("get connection token"),!this._config.getToken)throw this.emit("error",{type:"configuration",error:{code:q.badConfiguration,message:"token expired but no getToken function set in the configuration"}}),new ft("");return this._config.getToken({})}_refresh(){const t=this._client,n=this;this._getToken().then(function(s){if(t!==n._client)return;if(!s){n._failUnauthorized();return}if(n._token=s,n._debug("connection token refreshed"),!n._isConnected())return;const i={refresh:{token:n._token}};n._call(i,!1).then(r=>{const o=r.reply.refresh;n._refreshResponse(o),r.next&&r.next()},r=>{n._refreshError(r.error),r.next&&r.next()})}).catch(function(s){if(n._isConnected()){if(s instanceof ft){n._failUnauthorized();return}n.emit("error",{type:"refreshToken",error:{code:q.clientRefreshToken,message:s!==void 0?s.toString():""}}),n._refreshTimeout=setTimeout(()=>n._refresh(),n._getRefreshRetryDelay())}})}_refreshError(t){t.code<100||t.temporary===!0?(this.emit("error",{type:"refresh",error:t}),this._refreshTimeout=setTimeout(()=>this._refresh(),this._getRefreshRetryDelay())):this._disconnect(t.code,t.message,!1)}_getRefreshRetryDelay(){return Sn(0,5e3,1e4)}_refreshResponse(t){this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null),t.expires&&(this._client=t.client,this._refreshTimeout=setTimeout(()=>this._refresh(),Dn(t.ttl)))}_removeSubscription(t){t!==null&&delete this._subs[t.channel]}_unsubscribe(t){if(!this._isConnected())return;const s={unsubscribe:{channel:t.channel}},i=this;this._call(s,!1).then(r=>{r.next&&r.next()},r=>{r.next&&r.next(),i._disconnect(qe.unsubscribeError,"unsubscribe error",!0)})}_getSub(t){const n=this._subs[t];return n||null}_isServerSub(t){return this._serverSubs[t]!==void 0}_sendSubscribeCommands(t,n){const s=[];for(const i in this._subs){if(!this._subs.hasOwnProperty(i))continue;const r=this._subs[i];if(r._inflight!==!0&&r.state===re.Subscribing){const o=r._subscribe(t,n);o&&s.push(o)}}return s}_connectResponse(t){if(this._transportWasOpen=!0,this._reconnectAttempts=0,this._refreshRequired=!1,this._isConnected())return;this._client=t.client,this._setState(Y.Connected),this._refreshTimeout&&clearTimeout(this._refreshTimeout),t.expires&&(this._refreshTimeout=setTimeout(()=>this._refresh(),Dn(t.ttl))),this._session=t.session,this._node=t.node,this.startBatching(),this._sendSubscribeCommands(!1,!1),this.stopBatching();const n={client:t.client,transport:this._transport.subName()};t.data&&(n.data=t.data),this.emit("connected",n),this._resolvePromises(),this._processServerSubs(t.subs||{}),t.ping&&t.ping>0?(this._serverPing=t.ping*1e3,this._sendPong=t.pong===!0,this._waitServerPing()):this._serverPing=0}_processServerSubs(t){for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n];this._serverSubs[n]={offset:s.offset,epoch:s.epoch,recoverable:s.recoverable||!1};const i=this._getSubscribeContext(n,s);this.emit("subscribed",i)}for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n];if(s.recovered){const i=s.publications;if(i&&i.length>0)for(const r in i)i.hasOwnProperty(r)&&this._handlePublication(n,i[r])}}for(const n in this._serverSubs)this._serverSubs.hasOwnProperty(n)&&(t[n]||(this.emit("unsubscribed",{channel:n}),delete this._serverSubs[n]))}_clearRefreshTimeout(){this._refreshTimeout!==null&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null)}_clearReconnectTimeout(){this._reconnectTimeout!==null&&(clearTimeout(this._reconnectTimeout),this._reconnectTimeout=null)}_clearServerPingTimeout(){this._serverPingTimeout!==null&&(clearTimeout(this._serverPingTimeout),this._serverPingTimeout=null)}_waitServerPing(){this._config.maxServerPingDelay!==0&&this._isConnected()&&(this._clearServerPingTimeout(),this._serverPingTimeout=setTimeout(()=>{this._isConnected()&&this._disconnect(qe.noPing,"no ping",!0)},this._serverPing+this._config.maxServerPingDelay))}_getSubscribeContext(t,n){const s={channel:t,positioned:!1,recoverable:!1,wasRecovering:!1,recovered:!1};n.recovered&&(s.recovered=!0),n.positioned&&(s.positioned=!0),n.recoverable&&(s.recoverable=!0),n.was_recovering&&(s.wasRecovering=!0);let i="";"epoch"in n&&(i=n.epoch);let r=0;return"offset"in n&&(r=n.offset),(s.positioned||s.recoverable)&&(s.streamPosition={offset:r,epoch:i}),n.data&&(s.data=n.data),s}_handleReply(t,n){const s=t.id;if(!(s in this._callbacks)){n();return}const i=this._callbacks[s];if(clearTimeout(this._callbacks[s].timeout),delete this._callbacks[s],Ku(t)){const r=i.errback;if(!r){n();return}const o=t.error;r({error:o,next:n})}else{const r=i.callback;if(!r)return;r({reply:t,next:n})}}_handleJoin(t,n){const s=this._getSub(t);if(!s){if(this._isServerSub(t)){const i={channel:t,info:this._getJoinLeaveContext(n.info)};this.emit("join",i)}return}s._handleJoin(n)}_handleLeave(t,n){const s=this._getSub(t);if(!s){if(this._isServerSub(t)){const i={channel:t,info:this._getJoinLeaveContext(n.info)};this.emit("leave",i)}return}s._handleLeave(n)}_handleUnsubscribe(t,n){const s=this._getSub(t);if(!s){this._isServerSub(t)&&(delete this._serverSubs[t],this.emit("unsubscribed",{channel:t}));return}n.code<2500?s._setUnsubscribed(n.code,n.reason,!1):s._setSubscribing(n.code,n.reason)}_handleSubscribe(t,n){this._serverSubs[t]={offset:n.offset,epoch:n.epoch,recoverable:n.recoverable||!1},this.emit("subscribed",this._getSubscribeContext(t,n))}_handleDisconnect(t){const n=t.code;let s=!0;(n>=3500&&n<4e3||n>=4500&&n<5e3)&&(s=!1),this._disconnect(n,t.reason,s)}_getPublicationContext(t,n){const s={channel:t,data:n.data};return n.offset&&(s.offset=n.offset),n.info&&(s.info=this._getJoinLeaveContext(n.info)),n.tags&&(s.tags=n.tags),s}_getJoinLeaveContext(t){const n={client:t.client,user:t.user};return t.conn_info&&(n.connInfo=t.conn_info),t.chan_info&&(n.chanInfo=t.chan_info),n}_handlePublication(t,n){const s=this._getSub(t);if(!s){if(this._isServerSub(t)){const i=this._getPublicationContext(t,n);this.emit("publication",i),n.offset!==void 0&&(this._serverSubs[t].offset=n.offset)}return}s._handlePublication(n)}_handleMessage(t){this.emit("message",{data:t.data})}_handleServerPing(t){if(this._sendPong){const n={};this._transportSendCommands([n])}t()}_handlePush(t,n){const s=t.channel;t.pub?this._handlePublication(s,t.pub):t.message?this._handleMessage(t.message):t.join?this._handleJoin(s,t.join):t.leave?this._handleLeave(s,t.leave):t.unsubscribe?this._handleUnsubscribe(s,t.unsubscribe):t.subscribe?this._handleSubscribe(s,t.subscribe):t.disconnect&&this._handleDisconnect(t.disconnect),n()}_flush(){const t=this._commands.slice(0);this._commands=[],this._transportSendCommands(t)}_createErrorObject(t,n,s){const i={code:t,message:n};return s&&(i.temporary=!0),i}_registerCall(t,n,s){this._callbacks[t]={callback:n,errback:s,timeout:null},this._callbacks[t].timeout=setTimeout(()=>{delete this._callbacks[t],Zr(s)&&s({error:this._createErrorObject(q.timeout,"timeout")})},this._config.timeout)}_addCommand(t){this._batching?this._commands.push(t):this._transportSendCommands([t])}_nextPromiseId(){return++this._promiseId}_nextTransportId(){return++this._transportId}_resolvePromises(){for(const t in this._promises)this._promises[t].timeout&&clearTimeout(this._promises[t].timeout),this._promises[t].resolve(),delete this._promises[t]}_rejectPromises(t){for(const n in this._promises)this._promises[n].timeout&&clearTimeout(this._promises[n].timeout),this._promises[n].reject(t),delete this._promises[n]}}Bn.SubscriptionState=re;Bn.State=Y;Bn.UnauthorizedError=ft;const Qr=du(Iu);Qr.use({install(e,t){const n=document.getElementsByName("x-bearer")[0].getAttribute("content");console.log(n),e.config.globalProperties.authToken=n;const s=new Bn("ws://127.0.0.1:8081/connection/websocket",{data:{authToken:n}});s.on("connected",i=>{console.log(i),e.config.globalProperties.user=i.data.user}),s.connect(),e.config.globalProperties.centrifuge=s}});Qr.mount("#app");
